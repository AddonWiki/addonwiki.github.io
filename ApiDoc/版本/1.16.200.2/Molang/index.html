<html><head><meta charSet="utf-8"/><title data-react-helmet="true">Molang · AddonWiki · 看云</title><meta data-react-helmet="true" name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no"/><link rel="stylesheet" href="../../../../asset/plugins/theme-default/reader/style.css"/><style data-react-helmet="true" type="text/css">.ಠhighlight-container code[class*=language-],.ಠhighlight-container pre[class*=language-]{color:#000;background:none;text-shadow:0 1px #fff;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}.ಠhighlight-container code[class*=language-]::-moz-selection,.ಠhighlight-container code[class*=language-] ::-moz-selection,.ಠhighlight-container pre[class*=language-]::-moz-selection,.ಠhighlight-container pre[class*=language-] ::-moz-selection{text-shadow:none;background:#b3d4fc}.ಠhighlight-container code[class*=language-]::selection,.ಠhighlight-container code[class*=language-] ::selection,.ಠhighlight-container pre[class*=language-]::selection,.ಠhighlight-container pre[class*=language-] ::selection{text-shadow:none;background:#b3d4fc}@media print{.ಠhighlight-container code[class*=language-],.ಠhighlight-container pre[class*=language-]{text-shadow:none}}.ಠhighlight-container pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}.ಠhighlight-container :not(pre)>code[class*=language-],.ಠhighlight-container pre[class*=language-]{background:#f5f2f0}.ಠhighlight-container :not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.ಠhighlight-container .token.cdata,.ಠhighlight-container .token.comment,.ಠhighlight-container .token.doctype,.ಠhighlight-container .token.prolog{color:#708090}.ಠhighlight-container .token.punctuation{color:#999}.ಠhighlight-container .namespace{opacity:.7}.ಠhighlight-container .token.boolean,.ಠhighlight-container .token.constant,.ಠhighlight-container .token.deleted,.ಠhighlight-container .token.number,.ಠhighlight-container .token.property,.ಠhighlight-container .token.symbol,.ಠhighlight-container .token.tag{color:#905}.ಠhighlight-container .token.attr-name,.ಠhighlight-container .token.builtin,.ಠhighlight-container .token.char,.ಠhighlight-container .token.inserted,.ಠhighlight-container .token.selector,.ಠhighlight-container .token.string{color:#690}.ಠhighlight-container .language-css .token.string,.ಠhighlight-container .style .token.string,.ಠhighlight-container .token.entity,.ಠhighlight-container .token.operator,.ಠhighlight-container .token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.ಠhighlight-container .token.atrule,.ಠhighlight-container .token.attr-value,.ಠhighlight-container .token.keyword{color:#07a}.ಠhighlight-container .token.class-name,.ಠhighlight-container .token.function{color:#dd4a68}.ಠhighlight-container .token.important,.ಠhighlight-container .token.regex,.ಠhighlight-container .token.variable{color:#e90}.ಠhighlight-container .token.bold,.ಠhighlight-container .token.important{font-weight:700}.ಠhighlight-container .token.italic{font-style:italic}.ಠhighlight-container .token.entity{cursor:help}</style><style data-react-helmet="true" type="text/css">@font-face{font-family:KaTeX_AMS;src:url(file:///asset/plugins/tex/fonts/KaTeX_AMS-Regular.woff2) format("woff2"),url(file:///asset/plugins/tex/fonts/KaTeX_AMS-Regular.woff) format("woff"),url(file:///asset/plugins/tex/fonts/KaTeX_AMS-Regular.ttf) format("truetype");font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Caligraphic;src:url(file:///asset/plugins/tex/fonts/KaTeX_Caligraphic-Bold.woff2) format("woff2"),url(file:///asset/plugins/tex/fonts/KaTeX_Caligraphic-Bold.woff) format("woff"),url(file:///asset/plugins/tex/fonts/KaTeX_Caligraphic-Bold.ttf) format("truetype");font-weight:700;font-style:normal}@font-face{font-family:KaTeX_Caligraphic;src:url(file:///asset/plugins/tex/fonts/KaTeX_Caligraphic-Regular.woff2) format("woff2"),url(file:///asset/plugins/tex/fonts/KaTeX_Caligraphic-Regular.woff) format("woff"),url(file:///asset/plugins/tex/fonts/KaTeX_Caligraphic-Regular.ttf) format("truetype");font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Fraktur;src:url(file:///asset/plugins/tex/fonts/KaTeX_Fraktur-Bold.woff2) format("woff2"),url(file:///asset/plugins/tex/fonts/KaTeX_Fraktur-Bold.woff) format("woff"),url(file:///asset/plugins/tex/fonts/KaTeX_Fraktur-Bold.ttf) format("truetype");font-weight:700;font-style:normal}@font-face{font-family:KaTeX_Fraktur;src:url(file:///asset/plugins/tex/fonts/KaTeX_Fraktur-Regular.woff2) format("woff2"),url(file:///asset/plugins/tex/fonts/KaTeX_Fraktur-Regular.woff) format("woff"),url(file:///asset/plugins/tex/fonts/KaTeX_Fraktur-Regular.ttf) format("truetype");font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Main;src:url(file:///asset/plugins/tex/fonts/KaTeX_Main-Bold.woff2) format("woff2"),url(file:///asset/plugins/tex/fonts/KaTeX_Main-Bold.woff) format("woff"),url(file:///asset/plugins/tex/fonts/KaTeX_Main-Bold.ttf) format("truetype");font-weight:700;font-style:normal}@font-face{font-family:KaTeX_Main;src:url(file:///asset/plugins/tex/fonts/KaTeX_Main-BoldItalic.woff2) format("woff2"),url(file:///asset/plugins/tex/fonts/KaTeX_Main-BoldItalic.woff) format("woff"),url(file:///asset/plugins/tex/fonts/KaTeX_Main-BoldItalic.ttf) format("truetype");font-weight:700;font-style:italic}@font-face{font-family:KaTeX_Main;src:url(file:///asset/plugins/tex/fonts/KaTeX_Main-Italic.woff2) format("woff2"),url(file:///asset/plugins/tex/fonts/KaTeX_Main-Italic.woff) format("woff"),url(file:///asset/plugins/tex/fonts/KaTeX_Main-Italic.ttf) format("truetype");font-weight:400;font-style:italic}@font-face{font-family:KaTeX_Main;src:url(file:///asset/plugins/tex/fonts/KaTeX_Main-Regular.woff2) format("woff2"),url(file:///asset/plugins/tex/fonts/KaTeX_Main-Regular.woff) format("woff"),url(file:///asset/plugins/tex/fonts/KaTeX_Main-Regular.ttf) format("truetype");font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Math;src:url(file:///asset/plugins/tex/fonts/KaTeX_Math-BoldItalic.woff2) format("woff2"),url(file:///asset/plugins/tex/fonts/KaTeX_Math-BoldItalic.woff) format("woff"),url(file:///asset/plugins/tex/fonts/KaTeX_Math-BoldItalic.ttf) format("truetype");font-weight:700;font-style:italic}@font-face{font-family:KaTeX_Math;src:url(file:///asset/plugins/tex/fonts/KaTeX_Math-Italic.woff2) format("woff2"),url(file:///asset/plugins/tex/fonts/KaTeX_Math-Italic.woff) format("woff"),url(file:///asset/plugins/tex/fonts/KaTeX_Math-Italic.ttf) format("truetype");font-weight:400;font-style:italic}@font-face{font-family:"KaTeX_SansSerif";src:url(file:///asset/plugins/tex/fonts/KaTeX_SansSerif-Bold.woff2) format("woff2"),url(file:///asset/plugins/tex/fonts/KaTeX_SansSerif-Bold.woff) format("woff"),url(file:///asset/plugins/tex/fonts/KaTeX_SansSerif-Bold.ttf) format("truetype");font-weight:700;font-style:normal}@font-face{font-family:"KaTeX_SansSerif";src:url(file:///asset/plugins/tex/fonts/KaTeX_SansSerif-Italic.woff2) format("woff2"),url(file:///asset/plugins/tex/fonts/KaTeX_SansSerif-Italic.woff) format("woff"),url(file:///asset/plugins/tex/fonts/KaTeX_SansSerif-Italic.ttf) format("truetype");font-weight:400;font-style:italic}@font-face{font-family:"KaTeX_SansSerif";src:url(file:///asset/plugins/tex/fonts/KaTeX_SansSerif-Regular.woff2) format("woff2"),url(file:///asset/plugins/tex/fonts/KaTeX_SansSerif-Regular.woff) format("woff"),url(file:///asset/plugins/tex/fonts/KaTeX_SansSerif-Regular.ttf) format("truetype");font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Script;src:url(file:///asset/plugins/tex/fonts/KaTeX_Script-Regular.woff2) format("woff2"),url(file:///asset/plugins/tex/fonts/KaTeX_Script-Regular.woff) format("woff"),url(file:///asset/plugins/tex/fonts/KaTeX_Script-Regular.ttf) format("truetype");font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Size1;src:url(file:///asset/plugins/tex/fonts/KaTeX_Size1-Regular.woff2) format("woff2"),url(file:///asset/plugins/tex/fonts/KaTeX_Size1-Regular.woff) format("woff"),url(file:///asset/plugins/tex/fonts/KaTeX_Size1-Regular.ttf) format("truetype");font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Size2;src:url(file:///asset/plugins/tex/fonts/KaTeX_Size2-Regular.woff2) format("woff2"),url(file:///asset/plugins/tex/fonts/KaTeX_Size2-Regular.woff) format("woff"),url(file:///asset/plugins/tex/fonts/KaTeX_Size2-Regular.ttf) format("truetype");font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Size3;src:url(file:///asset/plugins/tex/fonts/KaTeX_Size3-Regular.woff2) format("woff2"),url(file:///asset/plugins/tex/fonts/KaTeX_Size3-Regular.woff) format("woff"),url(file:///asset/plugins/tex/fonts/KaTeX_Size3-Regular.ttf) format("truetype");font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Size4;src:url(file:///asset/plugins/tex/fonts/KaTeX_Size4-Regular.woff2) format("woff2"),url(file:///asset/plugins/tex/fonts/KaTeX_Size4-Regular.woff) format("woff"),url(file:///asset/plugins/tex/fonts/KaTeX_Size4-Regular.ttf) format("truetype");font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Typewriter;src:url(file:///asset/plugins/tex/fonts/KaTeX_Typewriter-Regular.woff2) format("woff2"),url(file:///asset/plugins/tex/fonts/KaTeX_Typewriter-Regular.woff) format("woff"),url(file:///asset/plugins/tex/fonts/KaTeX_Typewriter-Regular.ttf) format("truetype");font-weight:400;font-style:normal}.ಠtex-container .katex{font:normal 1.21em KaTeX_Main,Times New Roman,serif;line-height:1.2;text-indent:0;text-rendering:auto}.ಠtex-container .katex *{-ms-high-contrast-adjust:none!important}.ಠtex-container .katex .katex-version:after{content:"0.11.1"}.ಠtex-container .katex .katex-mathml{position:absolute;clip:rect(1px,1px,1px,1px);padding:0;border:0;height:1px;width:1px;overflow:hidden}.ಠtex-container .katex .katex-html>.newline{display:block}.ಠtex-container .katex .base{position:relative;display:inline-block;white-space:nowrap;width:-webkit-min-content;width:-moz-min-content;width:min-content}.ಠtex-container .katex .strut{display:inline-block}.ಠtex-container .katex .textbf{font-weight:700}.ಠtex-container .katex .textit{font-style:italic}.ಠtex-container .katex .textrm{font-family:KaTeX_Main}.ಠtex-container .katex .textsf{font-family:KaTeX_SansSerif}.ಠtex-container .katex .texttt{font-family:KaTeX_Typewriter}.ಠtex-container .katex .mathdefault{font-family:KaTeX_Math;font-style:italic}.ಠtex-container .katex .mathit{font-family:KaTeX_Main;font-style:italic}.ಠtex-container .katex .mathrm{font-style:normal}.ಠtex-container .katex .mathbf{font-family:KaTeX_Main;font-weight:700}.ಠtex-container .katex .boldsymbol{font-family:KaTeX_Math;font-weight:700;font-style:italic}.ಠtex-container .katex .amsrm,.ಠtex-container .katex .mathbb,.ಠtex-container .katex .textbb{font-family:KaTeX_AMS}.ಠtex-container .katex .mathcal{font-family:KaTeX_Caligraphic}.ಠtex-container .katex .mathfrak,.ಠtex-container .katex .textfrak{font-family:KaTeX_Fraktur}.ಠtex-container .katex .mathtt{font-family:KaTeX_Typewriter}.ಠtex-container .katex .mathscr,.ಠtex-container .katex .textscr{font-family:KaTeX_Script}.ಠtex-container .katex .mathsf,.ಠtex-container .katex .textsf{font-family:KaTeX_SansSerif}.ಠtex-container .katex .mathboldsf,.ಠtex-container .katex .textboldsf{font-family:KaTeX_SansSerif;font-weight:700}.ಠtex-container .katex .mathitsf,.ಠtex-container .katex .textitsf{font-family:KaTeX_SansSerif;font-style:italic}.ಠtex-container .katex .mainrm{font-family:KaTeX_Main;font-style:normal}.ಠtex-container .katex .vlist-t{display:inline-table;table-layout:fixed}.ಠtex-container .katex .vlist-r{display:table-row}.ಠtex-container .katex .vlist{display:table-cell;vertical-align:bottom;position:relative}.ಠtex-container .katex .vlist>span{display:block;height:0;position:relative}.ಠtex-container .katex .vlist>span>span{display:inline-block}.ಠtex-container .katex .vlist>span>.pstrut{overflow:hidden;width:0}.ಠtex-container .katex .vlist-t2{margin-right:-2px}.ಠtex-container .katex .vlist-s{display:table-cell;vertical-align:bottom;font-size:1px;width:2px;min-width:2px}.ಠtex-container .katex .msupsub{text-align:left}.ಠtex-container .katex .mfrac>span>span{text-align:center}.ಠtex-container .katex .mfrac .frac-line{display:inline-block;width:100%;border-bottom-style:solid}.ಠtex-container .katex .hdashline,.ಠtex-container .katex .hline,.ಠtex-container .katex .mfrac .frac-line,.ಠtex-container .katex .overline .overline-line,.ಠtex-container .katex .rule,.ಠtex-container .katex .underline .underline-line{min-height:1px}.ಠtex-container .katex .mspace{display:inline-block}.ಠtex-container .katex .clap,.ಠtex-container .katex .llap,.ಠtex-container .katex .rlap{width:0;position:relative}.ಠtex-container .katex .clap>.inner,.ಠtex-container .katex .llap>.inner,.ಠtex-container .katex .rlap>.inner{position:absolute}.ಠtex-container .katex .clap>.fix,.ಠtex-container .katex .llap>.fix,.ಠtex-container .katex .rlap>.fix{display:inline-block}.ಠtex-container .katex .llap>.inner{right:0}.ಠtex-container .katex .clap>.inner,.ಠtex-container .katex .rlap>.inner{left:0}.ಠtex-container .katex .clap>.inner>span{margin-left:-50%;margin-right:50%}.ಠtex-container .katex .rule{display:inline-block;border:0 solid;position:relative}.ಠtex-container .katex .hline,.ಠtex-container .katex .overline .overline-line,.ಠtex-container .katex .underline .underline-line{display:inline-block;width:100%;border-bottom-style:solid}.ಠtex-container .katex .hdashline{display:inline-block;width:100%;border-bottom-style:dashed}.ಠtex-container .katex .sqrt>.root{margin-left:.27777778em;margin-right:-.55555556em}.ಠtex-container .katex .fontsize-ensurer.reset-size1.size1,.ಠtex-container .katex .sizing.reset-size1.size1{font-size:1em}.ಠtex-container .katex .fontsize-ensurer.reset-size1.size2,.ಠtex-container .katex .sizing.reset-size1.size2{font-size:1.2em}.ಠtex-container .katex .fontsize-ensurer.reset-size1.size3,.ಠtex-container .katex .sizing.reset-size1.size3{font-size:1.4em}.ಠtex-container .katex .fontsize-ensurer.reset-size1.size4,.ಠtex-container .katex .sizing.reset-size1.size4{font-size:1.6em}.ಠtex-container .katex .fontsize-ensurer.reset-size1.size5,.ಠtex-container .katex .sizing.reset-size1.size5{font-size:1.8em}.ಠtex-container .katex .fontsize-ensurer.reset-size1.size6,.ಠtex-container .katex .sizing.reset-size1.size6{font-size:2em}.ಠtex-container .katex .fontsize-ensurer.reset-size1.size7,.ಠtex-container .katex .sizing.reset-size1.size7{font-size:2.4em}.ಠtex-container .katex .fontsize-ensurer.reset-size1.size8,.ಠtex-container .katex .sizing.reset-size1.size8{font-size:2.88em}.ಠtex-container .katex .fontsize-ensurer.reset-size1.size9,.ಠtex-container .katex .sizing.reset-size1.size9{font-size:3.456em}.ಠtex-container .katex .fontsize-ensurer.reset-size1.size10,.ಠtex-container .katex .sizing.reset-size1.size10{font-size:4.148em}.ಠtex-container .katex .fontsize-ensurer.reset-size1.size11,.ಠtex-container .katex .sizing.reset-size1.size11{font-size:4.976em}.ಠtex-container .katex .fontsize-ensurer.reset-size2.size1,.ಠtex-container .katex .sizing.reset-size2.size1{font-size:.83333333em}.ಠtex-container .katex .fontsize-ensurer.reset-size2.size2,.ಠtex-container .katex .sizing.reset-size2.size2{font-size:1em}.ಠtex-container .katex .fontsize-ensurer.reset-size2.size3,.ಠtex-container .katex .sizing.reset-size2.size3{font-size:1.16666667em}.ಠtex-container .katex .fontsize-ensurer.reset-size2.size4,.ಠtex-container .katex .sizing.reset-size2.size4{font-size:1.33333333em}.ಠtex-container .katex .fontsize-ensurer.reset-size2.size5,.ಠtex-container .katex .sizing.reset-size2.size5{font-size:1.5em}.ಠtex-container .katex .fontsize-ensurer.reset-size2.size6,.ಠtex-container .katex .sizing.reset-size2.size6{font-size:1.66666667em}.ಠtex-container .katex .fontsize-ensurer.reset-size2.size7,.ಠtex-container .katex .sizing.reset-size2.size7{font-size:2em}.ಠtex-container .katex .fontsize-ensurer.reset-size2.size8,.ಠtex-container .katex .sizing.reset-size2.size8{font-size:2.4em}.ಠtex-container .katex .fontsize-ensurer.reset-size2.size9,.ಠtex-container .katex .sizing.reset-size2.size9{font-size:2.88em}.ಠtex-container .katex .fontsize-ensurer.reset-size2.size10,.ಠtex-container .katex .sizing.reset-size2.size10{font-size:3.45666667em}.ಠtex-container .katex .fontsize-ensurer.reset-size2.size11,.ಠtex-container .katex .sizing.reset-size2.size11{font-size:4.14666667em}.ಠtex-container .katex .fontsize-ensurer.reset-size3.size1,.ಠtex-container .katex .sizing.reset-size3.size1{font-size:.71428571em}.ಠtex-container .katex .fontsize-ensurer.reset-size3.size2,.ಠtex-container .katex .sizing.reset-size3.size2{font-size:.85714286em}.ಠtex-container .katex .fontsize-ensurer.reset-size3.size3,.ಠtex-container .katex .sizing.reset-size3.size3{font-size:1em}.ಠtex-container .katex .fontsize-ensurer.reset-size3.size4,.ಠtex-container .katex .sizing.reset-size3.size4{font-size:1.14285714em}.ಠtex-container .katex .fontsize-ensurer.reset-size3.size5,.ಠtex-container .katex .sizing.reset-size3.size5{font-size:1.28571429em}.ಠtex-container .katex .fontsize-ensurer.reset-size3.size6,.ಠtex-container .katex .sizing.reset-size3.size6{font-size:1.42857143em}.ಠtex-container .katex .fontsize-ensurer.reset-size3.size7,.ಠtex-container .katex .sizing.reset-size3.size7{font-size:1.71428571em}.ಠtex-container .katex .fontsize-ensurer.reset-size3.size8,.ಠtex-container .katex .sizing.reset-size3.size8{font-size:2.05714286em}.ಠtex-container .katex .fontsize-ensurer.reset-size3.size9,.ಠtex-container .katex .sizing.reset-size3.size9{font-size:2.46857143em}.ಠtex-container .katex .fontsize-ensurer.reset-size3.size10,.ಠtex-container .katex .sizing.reset-size3.size10{font-size:2.96285714em}.ಠtex-container .katex .fontsize-ensurer.reset-size3.size11,.ಠtex-container .katex .sizing.reset-size3.size11{font-size:3.55428571em}.ಠtex-container .katex .fontsize-ensurer.reset-size4.size1,.ಠtex-container .katex .sizing.reset-size4.size1{font-size:.625em}.ಠtex-container .katex .fontsize-ensurer.reset-size4.size2,.ಠtex-container .katex .sizing.reset-size4.size2{font-size:.75em}.ಠtex-container .katex .fontsize-ensurer.reset-size4.size3,.ಠtex-container .katex .sizing.reset-size4.size3{font-size:.875em}.ಠtex-container .katex .fontsize-ensurer.reset-size4.size4,.ಠtex-container .katex .sizing.reset-size4.size4{font-size:1em}.ಠtex-container .katex .fontsize-ensurer.reset-size4.size5,.ಠtex-container .katex .sizing.reset-size4.size5{font-size:1.125em}.ಠtex-container .katex .fontsize-ensurer.reset-size4.size6,.ಠtex-container .katex .sizing.reset-size4.size6{font-size:1.25em}.ಠtex-container .katex .fontsize-ensurer.reset-size4.size7,.ಠtex-container .katex .sizing.reset-size4.size7{font-size:1.5em}.ಠtex-container .katex .fontsize-ensurer.reset-size4.size8,.ಠtex-container .katex .sizing.reset-size4.size8{font-size:1.8em}.ಠtex-container .katex .fontsize-ensurer.reset-size4.size9,.ಠtex-container .katex .sizing.reset-size4.size9{font-size:2.16em}.ಠtex-container .katex .fontsize-ensurer.reset-size4.size10,.ಠtex-container .katex .sizing.reset-size4.size10{font-size:2.5925em}.ಠtex-container .katex .fontsize-ensurer.reset-size4.size11,.ಠtex-container .katex .sizing.reset-size4.size11{font-size:3.11em}.ಠtex-container .katex .fontsize-ensurer.reset-size5.size1,.ಠtex-container .katex .sizing.reset-size5.size1{font-size:.55555556em}.ಠtex-container .katex .fontsize-ensurer.reset-size5.size2,.ಠtex-container .katex .sizing.reset-size5.size2{font-size:.66666667em}.ಠtex-container .katex .fontsize-ensurer.reset-size5.size3,.ಠtex-container .katex .sizing.reset-size5.size3{font-size:.77777778em}.ಠtex-container .katex .fontsize-ensurer.reset-size5.size4,.ಠtex-container .katex .sizing.reset-size5.size4{font-size:.88888889em}.ಠtex-container .katex .fontsize-ensurer.reset-size5.size5,.ಠtex-container .katex .sizing.reset-size5.size5{font-size:1em}.ಠtex-container .katex .fontsize-ensurer.reset-size5.size6,.ಠtex-container .katex .sizing.reset-size5.size6{font-size:1.11111111em}.ಠtex-container .katex .fontsize-ensurer.reset-size5.size7,.ಠtex-container .katex .sizing.reset-size5.size7{font-size:1.33333333em}.ಠtex-container .katex .fontsize-ensurer.reset-size5.size8,.ಠtex-container .katex .sizing.reset-size5.size8{font-size:1.6em}.ಠtex-container .katex .fontsize-ensurer.reset-size5.size9,.ಠtex-container .katex .sizing.reset-size5.size9{font-size:1.92em}.ಠtex-container .katex .fontsize-ensurer.reset-size5.size10,.ಠtex-container .katex .sizing.reset-size5.size10{font-size:2.30444444em}.ಠtex-container .katex .fontsize-ensurer.reset-size5.size11,.ಠtex-container .katex .sizing.reset-size5.size11{font-size:2.76444444em}.ಠtex-container .katex .fontsize-ensurer.reset-size6.size1,.ಠtex-container .katex .sizing.reset-size6.size1{font-size:.5em}.ಠtex-container .katex .fontsize-ensurer.reset-size6.size2,.ಠtex-container .katex .sizing.reset-size6.size2{font-size:.6em}.ಠtex-container .katex .fontsize-ensurer.reset-size6.size3,.ಠtex-container .katex .sizing.reset-size6.size3{font-size:.7em}.ಠtex-container .katex .fontsize-ensurer.reset-size6.size4,.ಠtex-container .katex .sizing.reset-size6.size4{font-size:.8em}.ಠtex-container .katex .fontsize-ensurer.reset-size6.size5,.ಠtex-container .katex .sizing.reset-size6.size5{font-size:.9em}.ಠtex-container .katex .fontsize-ensurer.reset-size6.size6,.ಠtex-container .katex .sizing.reset-size6.size6{font-size:1em}.ಠtex-container .katex .fontsize-ensurer.reset-size6.size7,.ಠtex-container .katex .sizing.reset-size6.size7{font-size:1.2em}.ಠtex-container .katex .fontsize-ensurer.reset-size6.size8,.ಠtex-container .katex .sizing.reset-size6.size8{font-size:1.44em}.ಠtex-container .katex .fontsize-ensurer.reset-size6.size9,.ಠtex-container .katex .sizing.reset-size6.size9{font-size:1.728em}.ಠtex-container .katex .fontsize-ensurer.reset-size6.size10,.ಠtex-container .katex .sizing.reset-size6.size10{font-size:2.074em}.ಠtex-container .katex .fontsize-ensurer.reset-size6.size11,.ಠtex-container .katex .sizing.reset-size6.size11{font-size:2.488em}.ಠtex-container .katex .fontsize-ensurer.reset-size7.size1,.ಠtex-container .katex .sizing.reset-size7.size1{font-size:.41666667em}.ಠtex-container .katex .fontsize-ensurer.reset-size7.size2,.ಠtex-container .katex .sizing.reset-size7.size2{font-size:.5em}.ಠtex-container .katex .fontsize-ensurer.reset-size7.size3,.ಠtex-container .katex .sizing.reset-size7.size3{font-size:.58333333em}.ಠtex-container .katex .fontsize-ensurer.reset-size7.size4,.ಠtex-container .katex .sizing.reset-size7.size4{font-size:.66666667em}.ಠtex-container .katex .fontsize-ensurer.reset-size7.size5,.ಠtex-container .katex .sizing.reset-size7.size5{font-size:.75em}.ಠtex-container .katex .fontsize-ensurer.reset-size7.size6,.ಠtex-container .katex .sizing.reset-size7.size6{font-size:.83333333em}.ಠtex-container .katex .fontsize-ensurer.reset-size7.size7,.ಠtex-container .katex .sizing.reset-size7.size7{font-size:1em}.ಠtex-container .katex .fontsize-ensurer.reset-size7.size8,.ಠtex-container .katex .sizing.reset-size7.size8{font-size:1.2em}.ಠtex-container .katex .fontsize-ensurer.reset-size7.size9,.ಠtex-container .katex .sizing.reset-size7.size9{font-size:1.44em}.ಠtex-container .katex .fontsize-ensurer.reset-size7.size10,.ಠtex-container .katex .sizing.reset-size7.size10{font-size:1.72833333em}.ಠtex-container .katex .fontsize-ensurer.reset-size7.size11,.ಠtex-container .katex .sizing.reset-size7.size11{font-size:2.07333333em}.ಠtex-container .katex .fontsize-ensurer.reset-size8.size1,.ಠtex-container .katex .sizing.reset-size8.size1{font-size:.34722222em}.ಠtex-container .katex .fontsize-ensurer.reset-size8.size2,.ಠtex-container .katex .sizing.reset-size8.size2{font-size:.41666667em}.ಠtex-container .katex .fontsize-ensurer.reset-size8.size3,.ಠtex-container .katex .sizing.reset-size8.size3{font-size:.48611111em}.ಠtex-container .katex .fontsize-ensurer.reset-size8.size4,.ಠtex-container .katex .sizing.reset-size8.size4{font-size:.55555556em}.ಠtex-container .katex .fontsize-ensurer.reset-size8.size5,.ಠtex-container .katex .sizing.reset-size8.size5{font-size:.625em}.ಠtex-container .katex .fontsize-ensurer.reset-size8.size6,.ಠtex-container .katex .sizing.reset-size8.size6{font-size:.69444444em}.ಠtex-container .katex .fontsize-ensurer.reset-size8.size7,.ಠtex-container .katex .sizing.reset-size8.size7{font-size:.83333333em}.ಠtex-container .katex .fontsize-ensurer.reset-size8.size8,.ಠtex-container .katex .sizing.reset-size8.size8{font-size:1em}.ಠtex-container .katex .fontsize-ensurer.reset-size8.size9,.ಠtex-container .katex .sizing.reset-size8.size9{font-size:1.2em}.ಠtex-container .katex .fontsize-ensurer.reset-size8.size10,.ಠtex-container .katex .sizing.reset-size8.size10{font-size:1.44027778em}.ಠtex-container .katex .fontsize-ensurer.reset-size8.size11,.ಠtex-container .katex .sizing.reset-size8.size11{font-size:1.72777778em}.ಠtex-container .katex .fontsize-ensurer.reset-size9.size1,.ಠtex-container .katex .sizing.reset-size9.size1{font-size:.28935185em}.ಠtex-container .katex .fontsize-ensurer.reset-size9.size2,.ಠtex-container .katex .sizing.reset-size9.size2{font-size:.34722222em}.ಠtex-container .katex .fontsize-ensurer.reset-size9.size3,.ಠtex-container .katex .sizing.reset-size9.size3{font-size:.40509259em}.ಠtex-container .katex .fontsize-ensurer.reset-size9.size4,.ಠtex-container .katex .sizing.reset-size9.size4{font-size:.46296296em}.ಠtex-container .katex .fontsize-ensurer.reset-size9.size5,.ಠtex-container .katex .sizing.reset-size9.size5{font-size:.52083333em}.ಠtex-container .katex .fontsize-ensurer.reset-size9.size6,.ಠtex-container .katex .sizing.reset-size9.size6{font-size:.5787037em}.ಠtex-container .katex .fontsize-ensurer.reset-size9.size7,.ಠtex-container .katex .sizing.reset-size9.size7{font-size:.69444444em}.ಠtex-container .katex .fontsize-ensurer.reset-size9.size8,.ಠtex-container .katex .sizing.reset-size9.size8{font-size:.83333333em}.ಠtex-container .katex .fontsize-ensurer.reset-size9.size9,.ಠtex-container .katex .sizing.reset-size9.size9{font-size:1em}.ಠtex-container .katex .fontsize-ensurer.reset-size9.size10,.ಠtex-container .katex .sizing.reset-size9.size10{font-size:1.20023148em}.ಠtex-container .katex .fontsize-ensurer.reset-size9.size11,.ಠtex-container .katex .sizing.reset-size9.size11{font-size:1.43981481em}.ಠtex-container .katex .fontsize-ensurer.reset-size10.size1,.ಠtex-container .katex .sizing.reset-size10.size1{font-size:.24108004em}.ಠtex-container .katex .fontsize-ensurer.reset-size10.size2,.ಠtex-container .katex .sizing.reset-size10.size2{font-size:.28929605em}.ಠtex-container .katex .fontsize-ensurer.reset-size10.size3,.ಠtex-container .katex .sizing.reset-size10.size3{font-size:.33751205em}.ಠtex-container .katex .fontsize-ensurer.reset-size10.size4,.ಠtex-container .katex .sizing.reset-size10.size4{font-size:.38572806em}.ಠtex-container .katex .fontsize-ensurer.reset-size10.size5,.ಠtex-container .katex .sizing.reset-size10.size5{font-size:.43394407em}.ಠtex-container .katex .fontsize-ensurer.reset-size10.size6,.ಠtex-container .katex .sizing.reset-size10.size6{font-size:.48216008em}.ಠtex-container .katex .fontsize-ensurer.reset-size10.size7,.ಠtex-container .katex .sizing.reset-size10.size7{font-size:.57859209em}.ಠtex-container .katex .fontsize-ensurer.reset-size10.size8,.ಠtex-container .katex .sizing.reset-size10.size8{font-size:.69431051em}.ಠtex-container .katex .fontsize-ensurer.reset-size10.size9,.ಠtex-container .katex .sizing.reset-size10.size9{font-size:.83317261em}.ಠtex-container .katex .fontsize-ensurer.reset-size10.size10,.ಠtex-container .katex .sizing.reset-size10.size10{font-size:1em}.ಠtex-container .katex .fontsize-ensurer.reset-size10.size11,.ಠtex-container .katex .sizing.reset-size10.size11{font-size:1.19961427em}.ಠtex-container .katex .fontsize-ensurer.reset-size11.size1,.ಠtex-container .katex .sizing.reset-size11.size1{font-size:.20096463em}.ಠtex-container .katex .fontsize-ensurer.reset-size11.size2,.ಠtex-container .katex .sizing.reset-size11.size2{font-size:.24115756em}.ಠtex-container .katex .fontsize-ensurer.reset-size11.size3,.ಠtex-container .katex .sizing.reset-size11.size3{font-size:.28135048em}.ಠtex-container .katex .fontsize-ensurer.reset-size11.size4,.ಠtex-container .katex .sizing.reset-size11.size4{font-size:.32154341em}.ಠtex-container .katex .fontsize-ensurer.reset-size11.size5,.ಠtex-container .katex .sizing.reset-size11.size5{font-size:.36173633em}.ಠtex-container .katex .fontsize-ensurer.reset-size11.size6,.ಠtex-container .katex .sizing.reset-size11.size6{font-size:.40192926em}.ಠtex-container .katex .fontsize-ensurer.reset-size11.size7,.ಠtex-container .katex .sizing.reset-size11.size7{font-size:.48231511em}.ಠtex-container .katex .fontsize-ensurer.reset-size11.size8,.ಠtex-container .katex .sizing.reset-size11.size8{font-size:.57877814em}.ಠtex-container .katex .fontsize-ensurer.reset-size11.size9,.ಠtex-container .katex .sizing.reset-size11.size9{font-size:.69453376em}.ಠtex-container .katex .fontsize-ensurer.reset-size11.size10,.ಠtex-container .katex .sizing.reset-size11.size10{font-size:.83360129em}.ಠtex-container .katex .fontsize-ensurer.reset-size11.size11,.ಠtex-container .katex .sizing.reset-size11.size11{font-size:1em}.ಠtex-container .katex .delimsizing.size1{font-family:KaTeX_Size1}.ಠtex-container .katex .delimsizing.size2{font-family:KaTeX_Size2}.ಠtex-container .katex .delimsizing.size3{font-family:KaTeX_Size3}.ಠtex-container .katex .delimsizing.size4{font-family:KaTeX_Size4}.ಠtex-container .katex .delimsizing.mult .delim-size1>span{font-family:KaTeX_Size1}.ಠtex-container .katex .delimsizing.mult .delim-size4>span{font-family:KaTeX_Size4}.ಠtex-container .katex .nulldelimiter{display:inline-block;width:.12em}.ಠtex-container .katex .delimcenter,.ಠtex-container .katex .op-symbol{position:relative}.ಠtex-container .katex .op-symbol.small-op{font-family:KaTeX_Size1}.ಠtex-container .katex .op-symbol.large-op{font-family:KaTeX_Size2}.ಠtex-container .katex .accent>.vlist-t,.ಠtex-container .katex .op-limits>.vlist-t{text-align:center}.ಠtex-container .katex .accent .accent-body{position:relative}.ಠtex-container .katex .accent .accent-body:not(.accent-full){width:0}.ಠtex-container .katex .overlay{display:block}.ಠtex-container .katex .mtable .vertical-separator{display:inline-block;min-width:1px}.ಠtex-container .katex .mtable .arraycolsep{display:inline-block}.ಠtex-container .katex .mtable .col-align-c>.vlist-t{text-align:center}.ಠtex-container .katex .mtable .col-align-l>.vlist-t{text-align:left}.ಠtex-container .katex .mtable .col-align-r>.vlist-t{text-align:right}.ಠtex-container .katex .svg-align{text-align:left}.ಠtex-container .katex svg{display:block;position:absolute;width:100%;height:inherit;fill:currentColor;stroke:currentColor;fill-rule:nonzero;fill-opacity:1;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1}.ಠtex-container .katex svg path{stroke:none}.ಠtex-container .katex img{border-style:none;min-width:0;min-height:0;max-width:none;max-height:none}.ಠtex-container .katex .stretchy{width:100%;display:block;position:relative;overflow:hidden}.ಠtex-container .katex .stretchy:after,.ಠtex-container .katex .stretchy:before{content:""}.ಠtex-container .katex .hide-tail{width:100%;position:relative;overflow:hidden}.ಠtex-container .katex .halfarrow-left{position:absolute;left:0;width:50.2%;overflow:hidden}.ಠtex-container .katex .halfarrow-right{position:absolute;right:0;width:50.2%;overflow:hidden}.ಠtex-container .katex .brace-left{position:absolute;left:0;width:25.1%;overflow:hidden}.ಠtex-container .katex .brace-center{position:absolute;left:25%;width:50%;overflow:hidden}.ಠtex-container .katex .brace-right{position:absolute;right:0;width:25.1%;overflow:hidden}.ಠtex-container .katex .x-arrow-pad{padding:0 .5em}.ಠtex-container .katex .mover,.ಠtex-container .katex .munder,.ಠtex-container .katex .x-arrow{text-align:center}.ಠtex-container .katex .boxpad{padding:0 .3em}.ಠtex-container .katex .fbox,.ಠtex-container .katex .fcolorbox{box-sizing:border-box;border:.04em solid}.ಠtex-container .katex .cancel-pad{padding:0 .2em}.ಠtex-container .katex .cancel-lap{margin-left:-.2em;margin-right:-.2em}.ಠtex-container .katex .sout{border-bottom-style:solid;border-bottom-width:.08em}.ಠtex-container .katex-display{display:block;margin:1em 0;text-align:center}.ಠtex-container .katex-display>.katex{display:block;text-align:center;white-space:nowrap}.ಠtex-container .katex-display>.katex>.katex-html{display:block;position:relative}.ಠtex-container .katex-display>.katex>.katex-html>.tag{position:absolute;right:0}.ಠtex-container .katex-display.leqno>.katex>.katex-html>.tag{left:0;right:auto}.ಠtex-container .katex-display.fleqn>.katex{text-align:left}.ಠtex-container .mathjax-editor-input{left:-999999px}.ಠtex-container.ಠtex-block{text-align:center}.ಠtex-container.ಠtex-inline{margin:0 5px}.ಠtex-modal .mathjax-editor-input{left:-999999px!important}.ಠtex-modal .mathjax-editor-container{text-align:center;font-size:24px;padding:60px 0}.ಠtex-modal .ಠtex-toolbar{width:100%;padding:1px 10px;position:relative;z-index:2;background-color:#f6f5ee;border-bottom:1px solid #ccc;color:#000}.ಠtex-modal .ಠtex-toolbar .ಠtex-button{padding:8px 6px;height:97px;font-size:12px;display:inline-block;border:1px solid transparent;border-radius:3px;cursor:default;position:relative;z-index:3;vertical-align:top;margin-right:1px}.ಠtex-modal .ಠtex-toolbar .ಠtex-button .ಠtex-icon{width:32px;height:32px;margin:2px auto;background:url(file:///asset/plugins/tex/images/btn.png) 0 0 no-repeat}.ಠtex-modal .ಠtex-toolbar .ಠtex-button .ಠtex-label{color:#666;text-align:center;display:block;font-size:12px;line-height:20px}.ಠtex-modal .ಠtex-toolbar .ಠtex-button .ಠtex-label .ಠtex-sign{border:4px solid transparent;border-top-color:#2d2d2d;width:0;height:0;display:inline-block;margin:8px auto;vertical-align:top}.ಠtex-modal .ಠtex-toolbar .ಠtex-yushe .ಠtex-icon{width:40px}.ಠtex-modal .ಠtex-toolbar .ಠtex-area{height:97px;cursor:default;opacity:.5;z-index:4;border:1px solid #e0dfd5;border-radius:4px;background:#fff;margin:8px 10px}.ಠtex-modal .ಠtex-toolbar .ಠtex-area,.ಠtex-modal .ಠtex-toolbar .ಠtex-area .ಠtex-container{display:inline-block;position:relative;vertical-align:top}.ಠtex-modal .ಠtex-toolbar .ಠtex-area .ಠtex-container{width:293px;height:70px;margin:5px;border-right:0;top:0;left:0;overflow:hidden}.ಠtex-modal .ಠtex-toolbar .ಠtex-area .ಠtex-container .ಠtex-panel{position:absolute;top:0;left:0;line-height:0;background:#fff;transition:top .5s linear}.ಠtex-modal .ಠtex-toolbar .ಠtex-area .ಠtex-container .ಠtex-panel .ಠtex-item{width:26px;height:26px;position:absolute;top:0;left:0}.ಠtex-modal .ಠtex-toolbar .ಠtex-area .ಠtex-container .ಠtex-panel .ಠtex-item .ಠtex-inner{width:34px;height:34px;border:1px solid #fff;position:absolute;top:-4px;left:-4px;transition:all .1s linear;transform:scale(.76)}.ಠtex-modal .ಠtex-toolbar .ಠtex-area .ಠtex-container .ಠtex-panel .ಠtex-item .ಠtex-inner:hover{transform:scale(1)}.ಠtex-modal .ಠtex-toolbar .ಠtex-area .ಠtex-container .ಠtex-panel .ಠtex-item .ಠtex-inner .ಠtex-img{width:32px;height:32px;border:1px solid grey;transition:all .1s linear}</style></head><body><div id="main"><div class="window-container with-head"><img src="cover.jpg" style="position:absolute;visibility:hidden"/><div><div class="Loading__loading___1m_fZ"><div class="Loading__bar___21yOt" style="background:#21ba45;width:0%;display:none"><div class="Loading__peg___3Y_28"></div></div></div><div class="Loading__spinner___11Pm4"><div class="Loading__icon___3OOyu" style="display:none;border-color:#21ba45"></div></div></div><div class="window-head"><div class="toolbar"><a data-no-pjax="true" class="title" href="/"><img src="https://img.imgdb.cn/item/6034a72f5f4313ce25324c9e.png"/></a><div class="extra"><div class="ui menu small secondary"></div></div></div></div><div class="window-body"><div class="sidebar"><div class="sidebar-header"><div class="search-form"><div class="ui small fluid icon input"><input type="text" placeholder="请输入搜索关键词..."/><i class="icon search"></i></div></div></div><div class="sidebar-body"><div class="catalog-body"><ul><li class="open"><div class="wholerow"></div><i class="icon"></i><a href="../../../../home.html" class="text">主页</a></li><li class="open"><div class="wholerow"></div><i class="icon caret down"></i><a href="../../../../Addon入门教程/index.html" class="text">Addonr入门教程</a><ul><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../../Addon入门教程/0.Addon教程前言/index.html" class="text">0.Addon入门教程前言</a></li><li class=""><div class="wholerow"></div><i class="icon caret right"></i><a href="../../../../Addon入门教程/1.AddOns基础知识/index.html" class="text">1.AddOns基础知识</a><ul><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../../Addon入门教程/1.AddOns基础知识/1-1.AddOns附加包的定义与发展史/index.html" class="text">1-1.AddOns附加包的定义与发展史</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../../Addon入门教程/1.AddOns基础知识/1-2.JSON基础认识/index.html" class="text">1-2.JSON基础认识</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../../Addon入门教程/1.AddOns基础知识/1-3.工具准备/index.html" class="text">1-3.工具准备</a></li></ul></li><li class=""><div class="wholerow"></div><i class="icon caret right"></i><a href="../../../../Addon入门教程/2.AddOns组成结构/index.html" class="text">2.AddOns组成结构</a><ul><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../../Addon入门教程/2.AddOns组成结构/2-1.第一个包/index.html" class="text">2-1.第一个包!</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../../Addon入门教程/2.AddOns组成结构/2-2.导入与测试/index.html" class="text">2-2.导入与测试</a></li></ul></li><li class=""><div class="wholerow"></div><i class="icon caret right"></i><a href="../../../../Addon入门教程/3.自定义游戏内容/index.html" class="text">3.自定义游戏内容</a><ul><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../../Addon入门教程/3.自定义游戏内容/3-1.自定义物品/index.html" class="text">3-1.自定义物品</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../../Addon入门教程/3.自定义游戏内容/3-2.自定义方块/index.html" class="text">3-2.自定义方块</a></li><li class=""><div class="wholerow"></div><i class="icon caret right"></i><a href="../../../../Addon入门教程/3.自定义游戏内容/3-3.自定义配方/index.html" class="text">3-3.自定义配方</a><ul><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../../Addon入门教程/3.自定义游戏内容/3-3.自定义配方/3-3-1.自定义合成/index.html" class="text">3-3-1.自定义合成</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../../Addon入门教程/3.自定义游戏内容/3-3.自定义配方/3-3-2.自定义熔炼/index.html" class="text">3-3-2.自定义熔炼</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../../Addon入门教程/3.自定义游戏内容/3-3.自定义配方/3-3-3.自定义切石机/index.html" class="text">3-3-3.自定义切石机</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../../Addon入门教程/3.自定义游戏内容/3-3.自定义配方/3-3-4.自定义酿造台/index.html" class="text">3-3-4.自定义酿造台</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../../Addon入门教程/3.自定义游戏内容/3-3.自定义配方/3-3-5.自定义制图台/index.html" class="text">3-3-5.自定义制图台</a></li></ul></li><li class=""><div class="wholerow"></div><i class="icon caret right"></i><a href="../../../../Addon入门教程/3.自定义游戏内容/3-4.自定义生成结构/index.html" class="text">3-4.自定义生成结构</a><ul><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../../Addon入门教程/3.自定义游戏内容/3-4.自定义生成结构/3-4-1.自定义生物群系/index.html" class="text">3-4-1.自定义生物群系</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../../Addon入门教程/3.自定义游戏内容/3-4.自定义生成结构/3-4-2.自定义树特征/index.html" class="text">3-4-2.自定义树特征</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../../Addon入门教程/3.自定义游戏内容/3-4.自定义生成结构/3-4-3.自定义矿石特征/index.html" class="text">3-4-3.自定义矿石特征</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../../Addon入门教程/3.自定义游戏内容/3-4.自定义生成结构/3-4-4.自定义结构特征/index.html" class="text">3-4-4.自定义结构特征</a></li></ul></li><li class=""><div class="wholerow"></div><i class="icon caret right"></i><a href="../../../../Addon入门教程/3.自定义游戏内容/3-5.自定义实体/index.html" class="text">3-5.自定义实体</a><ul><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../../Addon入门教程/3.自定义游戏内容/3-5.自定义实体/3-5-1.组成结构/index.html" class="text">3-5-1.组成结构</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../../Addon入门教程/3.自定义游戏内容/3-5.自定义实体/3-5-2.行为包部分-实体行为必选/index.html" class="text">3-5-2.行为包部分-实体行为(必选)</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../../Addon入门教程/3.自定义游戏内容/3-5.自定义实体/3-5-3.行为包部分-实体生成可选/index.html" class="text">3-5-3.行为包部分-实体生成(可选)</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../../Addon入门教程/3.自定义游戏内容/3-5.自定义实体/3-5-4.行为包部分-实体掉落物可选/index.html" class="text">3-5-4.行为包部分-实体掉落物(可选)</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../../Addon入门教程/3.自定义游戏内容/3-5.自定义实体/3-5-5.资源包部分-实体资源包定义必选/index.html" class="text">3-5-5.资源包部分-实体资源包定义(必选)</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../../Addon入门教程/3.自定义游戏内容/3-5.自定义实体/3-5-6.资源包部分-材料可选/index.html" class="text">3-5-6.资源包部分-材料(可选)</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../../Addon入门教程/3.自定义游戏内容/3-5.自定义实体/3-5-7.资源包部分-模型可选/index.html" class="text">3-5-7.资源包部分-模型(可选)</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../../Addon入门教程/3.自定义游戏内容/3-5.自定义实体/3-5-8.资源包部分-贴图可选/index.html" class="text">3-5-8.资源包部分-贴图(可选)</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../../Addon入门教程/3.自定义游戏内容/3-5.自定义实体/3-5-9.动画/index.html" class="text">3-5-9.动画</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../../Addon入门教程/3.自定义游戏内容/3-5.自定义实体/3-5-10.动画控制器/index.html" class="text">3-5-10.动画控制器</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../../Addon入门教程/3.自定义游戏内容/3-5.自定义实体/3-5-11.资源包部分-渲染控制器可选/index.html" class="text">3-5-11.资源包部分-渲染控制器(可选)</a></li></ul></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../../Addon入门教程/3.自定义游戏内容/3-6.自定义颗粒效果/index.html" class="text">3-6.自定义颗粒效果</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../../Addon入门教程/3.自定义游戏内容/3-7.自定义音乐与音效/index.html" class="text">3-7.自定义音乐与音效</a></li></ul></li><li class=""><div class="wholerow"></div><i class="icon caret right"></i><a href="../../../../Addon入门教程/4.后期/index.html" class="text">4.后期</a><ul><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../../Addon入门教程/4.后期/4-1.Addon加密/index.html" class="text">4-1.Addon加密</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../../Addon入门教程/4.后期/4-2.Addon发布/index.html" class="text">4-2.Addon发布</a></li></ul></li></ul></li><li class="open"><div class="wholerow"></div><i class="icon caret down"></i><a href="../../../../基础概念/index.html" class="text">基础概念</a><ul><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../../基础概念/Lang语言/index.html" class="text">Lang语言</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../../基础概念/Function命令函数/index.html" class="text">Function命令函数</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../../基础概念/Structure结构/index.html" class="text">Structure结构</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../../基础概念/组件、组件组、事件/index.html" class="text">组件、组件组、事件</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../../基础概念/指令/index.html" class="text">指令</a></li></ul></li><li class="open"><div class="wholerow"></div><i class="icon caret down"></i><a href="../../../../名词解释/index.html" class="text">名词解释</a><ul><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../../名词解释/标识符/index.html" class="text">标识符</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../../名词解释/命名空间/index.html" class="text">命名空间</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../../名词解释/优先权/index.html" class="text">优先权</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../../名词解释/Nbt/index.html" class="text">Nbt</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../../名词解释/运行标识符/index.html" class="text">运行标识符</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../../名词解释/value/index.html" class="text">value</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../../名词解释/范围值/index.html" class="text">范围值</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../../名词解释/概率/index.html" class="text">概率</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../../名词解释/浮点数/index.html" class="text">浮点数</a></li></ul></li><li class="open"><div class="wholerow"></div><i class="icon caret down"></i><a href="../../../../专辑篇/index.html" class="text">专辑篇</a><ul><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../../专辑篇/交易列表/index.html" class="text">交易列表</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../../专辑篇/战利品表/index.html" class="text">战利品表</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../../专辑篇/滤器/index.html" class="text">滤器</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../../专辑篇/实体生成/index.html" class="text">实体生成</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../../专辑篇/触发器/index.html" class="text">触发器</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../../专辑篇/事件/index.html" class="text">事件</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../../专辑篇/Molang/index.html" class="text">MoLang</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../../专辑篇/动画与动画控制器/index.html" class="text">动画与动画控制器</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../../专辑篇/渲染控制器/index.html" class="text">渲染控制器</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../../专辑篇/材料/index.html" class="text">材料</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../../专辑篇/着色器（光影）/index.html" class="text">着色器（光影）</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../../专辑篇/JSON用户界面UI/index.html" class="text">JSON用户界面UI</a></li></ul></li><li class="open"><div class="wholerow"></div><i class="icon"></i><a href="../../../../脚本引擎/index.html" class="text">脚本引擎</a></li><li class="open"><div class="wholerow"></div><i class="icon caret down"></i><a href="../../../../技巧/index.html" class="text">技巧</a><ul><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../../技巧/模型、贴图、动画/index.html" class="text">模型、贴图、动画</a></li></ul></li><li class="open"><div class="wholerow"></div><i class="icon caret down"></i><a href="../../../index.html" class="text">API文档</a><ul><li class="open"><div class="wholerow"></div><i class="icon caret down"></i><a href="../../index.html" class="text">版本</a><ul><li class="open"><div class="wholerow"></div><i class="icon caret down"></i><a href="../index.html" class="text">1.16.200.2</a><ul><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../附加包/index.html" class="text">附加包</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../动画/index.html" class="text">动画</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../生物群系/index.html" class="text">生物群系</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../方块/index.html" class="text">方块</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../实体/index.html" class="text">实体</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../实体事件/index.html" class="text">实体事件</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../特征/index.html" class="text">特征</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../物品/index.html" class="text">物品</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="index.html" class="text">Molang</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../粒子效果/index.html" class="text">粒子效果</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../配方/index.html" class="text">配方</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../架构/index.html" class="text">架构</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../脚本/index.html" class="text">脚本</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../纹理集/index.html" class="text">纹理集</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../UI/index.html" class="text">UI</a></li></ul></li></ul></li><li class=""><div class="wholerow"></div><i class="icon caret right"></i><a href="../../../其它文档/index.html" class="text">其它文档</a><ul><li class=""><div class="wholerow"></div><i class="icon caret right"></i><a href="../../../其它文档/脚本/index.html" class="text">脚本</a><ul><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../其它文档/脚本/脚本引擎系统/index.html" class="text">脚本引擎系统</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../其它文档/脚本/API对象/index.html" class="text">API对象</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../其它文档/脚本/组件/index.html" class="text">组件</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../其它文档/脚本/事件/index.html" class="text">事件</a></li></ul></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../其它文档/H5UI/index.html" class="text">H5UI</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../其它文档/MoLang/index.html" class="text">MoLang</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../其它文档/着色器/index.html" class="text">着色器</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../其它文档/材料/index.html" class="text">材料</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../其它文档/JSON用户界面UI/index.html" class="text">JSON用户界面UI</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../其它文档/生物群系/index.html" class="text">生物群系</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../其它文档/粒子效果/index.html" class="text">粒子效果</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../其它文档/实体事件/index.html" class="text">实体事件</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../其它文档/战利品表/index.html" class="text">战利品表</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../其它文档/交易列表/index.html" class="text">交易列表</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../其它文档/实体生成/index.html" class="text">实体生成</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../其它文档/滤器/index.html" class="text">滤器</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../其它文档/触发器/index.html" class="text">触发器</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../其它文档/方块/index.html" class="text">方块</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../其它文档/物品栏子分类/index.html" class="text">物品栏子分类</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../其它文档/运行标识符/index.html" class="text">运行标识符</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../其它文档/声音/index.html" class="text">声音</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../其它文档/颜色字体/index.html" class="text">颜色字体</a></li><li class=""><div class="wholerow"></div><i class="icon"></i><a href="../../../其它文档/特殊字符/index.html" class="text">特殊字符</a></li></ul></li></ul></li></ul></div></div><div class="sidebar-copyright">本文档使用 <a href="https://www.kancloud.cn" target="_blank">看云</a> 构建</div></div><div class="workspace"><div class="article"><div class="article-head"><div class="left tools"><a class="item icon"><i class="icon align justify"></i></a></div><h1>Molang</h1><div class="right tools"><div role="listbox" aria-expanded="false" class="ui top right pointing dropdown item" tabindex="0"><div class="text" role="alert" aria-live="polite"></div><i aria-hidden="true" class="share alternate icon"></i><div class="menu transition"><div role="option" class="item"><i aria-hidden="true" class="linkify icon"></i><span class="text">复制链接</span></div><div role="option" class="item"><i aria-hidden="true" class="qq icon"></i><span class="text">腾讯QQ</span></div><div role="option" class="item"><i aria-hidden="true" class="weibo icon"></i><span class="text">新浪微博</span></div><div class="header"><p><i class="icon wechat"></i><span class="text">微信扫一扫</span></p><img src="https://bshare.optimix.cn/barCode?site=weixin&amp;url=file%3A%2F%2F..%2F..%2F..%2F..%2Fcontent%2FApiDoc%2F%25E7%2589%2588%25E6%259C%25AC%2F1.16.200.2%2FMolang%2Findex.md"/></div></div></div></div></div><div class="article-body kancloud-markdown-body"><h1><a id="Molang_0"></a>Molang文档</h1>
<h2><a id="_1162002_1"></a><strong>版本：</strong> 1.16.200.2（正式版）</h2>
<hr/>
<h1><a id="MoLang_3"></a>为什么要创造MoLang?</h1>
<p>MoLang is a simple expression-based language designed for fast, data-driven calculation of values at run-time, and with a direct connection to in-game values and systems. Its focus is solely to enable script-like capabilities in high-performance systems where languages such as JavaScript are not performant at scale. We need scripting capabilities in these low-level systems to support end-user modding capabilities, and custom entities, rendering, and animation.</p>
<h1><a id="_8"></a>语法结构</h1>
<p>The language structure is largely based on simple &#x27;C&#x27; language family style syntax. A script is made of either one expression for simple math calculations, or can be made of several statements where more complicated code is required.</p>
<p>In simple cases, the terminating <code>;</code> is omitted and the expression result is returned. In complex cases (where there are multiple statements terminated with <code>;</code>s, <code>0.0</code> is returned unless there is a <code>return</code> statement, which will exit the current script scope returning the computed value of that return expression (exactly like C).</p>
<h1><a id="_14"></a>区分大小写</h1>
<p>All things in molang are case-INsensitive, with the exception of strings, which maintain the case provided</p>
<h1><a id="_19"></a>关键词</h1>
<p>All identifiers not in a scope listed below are reserved for future use</p>
<table><thead><tr><th>Keyword</th><th>Description</th></tr></thead><tbody><tr><td><code>1.23</code></td><td>Numerical constant value</td></tr><tr><td></td><td></td></tr><tr><td><code>! &amp;&amp; || = &gt; == !=</code></td><td>Logical operators</td></tr><tr><td></td><td></td></tr><tr><td><code>\* / + -</code></td><td>Basic math operators</td></tr><tr><td></td><td></td></tr><tr><td><code>(</code><code>)</code></td><td>Parentheses for expression term evaluation control</td></tr><tr><td></td><td></td></tr><tr><td><code>{</code><code>}</code></td><td>Braces for execution scope</td></tr><tr><td></td><td></td></tr><tr><td><code>??</code></td><td>Null coalescing operator, for handling missing variables or stale actor references</td></tr><tr><td></td><td></td></tr><tr><td><code>geometry.texture\_name</code></td><td>A reference to a geometry named in the entity definition</td></tr><tr><td></td><td></td></tr><tr><td><code>material.texture\_name</code></td><td>A reference to a material named in the entity definition</td></tr><tr><td></td><td></td></tr><tr><td><code>math.function\_name</code></td><td>Various math functions</td></tr><tr><td></td><td></td></tr><tr><td><code>query.function\_name</code></td><td>Access to an entity&#x27;s properties</td></tr><tr><td></td><td></td></tr><tr><td><code>temp.variable\_name</code></td><td>Read/write temporary storage</td></tr><tr><td></td><td></td></tr><tr><td><code>texture.texture\_name</code></td><td>A reference to a texture named in the entity definition</td></tr><tr><td></td><td></td></tr><tr><td><code>variable.variable\_name</code></td><td>Read/write storage on an actor</td></tr><tr><td></td><td></td></tr><tr><td><code>?:</code></td><td>Trinary conditional operator</td></tr><tr><td></td><td></td></tr><tr><td><code>?</code></td><td>Binary conditional operator</td></tr><tr><td></td><td></td></tr><tr><td><code>this</code></td><td>The current value that this script will ultimately write to (context specific)</td></tr><tr><td></td><td></td></tr><tr><td><code>return</code></td><td>For complex expressions, this evaluates the following statement and stops execution of the script, returns the value computed</td></tr><tr><td></td><td></td></tr><tr><td><code>-&gt;</code></td><td>(EXPERIMENTAL) Arrow operator, for accessing data from a different entity</td></tr><tr><td></td><td></td></tr><tr><td><code>context.variable\_name</code></td><td>(EXPERIMENTAL) Read-only storage provided by the game in certain scenarios</td></tr><tr><td></td><td></td></tr><tr><td><code>loop</code></td><td>(EXPERIMENTAL) For repeating one or more commands &#x27;n&#x27; times</td></tr><tr><td></td><td></td></tr><tr><td><code>for\_each</code></td><td>(EXPERIMENTAL) For iterating over an array of entities</td></tr><tr><td></td><td></td></tr><tr><td><code>break</code></td><td>(EXPERIMENTAL) For early exiting a loop/for_each scope</td></tr><tr><td></td><td></td></tr><tr><td><code>continue</code></td><td>(EXPERIMENTAL) For skipping the rest of the set of statements of a loop/for_each iteration and moving to the next iteration</td></tr><tr><td></td><td></td></tr><tr><td><code>\[</code><code>\]</code></td><td>Brackets for array access</td></tr><tr><td></td><td></td></tr></tbody></table>
<h1><a id="_75"></a>变量</h1>
<p>There are three variable lifetimes a variable may belong to: Temporary, Entity, and Context:<br/>
- Temporary variables (eg: <code>temp.moo = 1;</code>) are read/write and valid for the scope they are defined in, as per C rules. For performance reasons their lifetime is global to the current script execution and may return a valid value outside of the outermost scope they are defined in for a script. Be careful in complex scripts. We will be adding content errors for invalid accesses as soon as possible.<br/>
- Entity variables (eg: <code>variable.moo = 1;</code>) are read/write and store their value on the entity for the lifetime of that entity. Note that these are currently not saved, so quitting and reloading the world will re-initialize these. In the same way, if the entity is despawned, any variables on the entity will be lost.<br/>
- Context variables (eg: <code>context.moo</code>) are read-only and valid for the script they are run on. The game defines these, and details on what variables are in each will be available in the documentation of the area where that molang script exists (such as behaviours defining what context variables they expose).</p>
<h1><a id="_83"></a>值</h1>
<p>- All numerical values are floats.<br/>
- Boolean values such as actor flags are converted and stored as a float value of either 0.0 or 1.0 for values of false or true respectively.<br/>
- For boolean tests, a float value equivalent to 0.0 is false, and anything not equal to 0.0 is true.<br/>
- For array indices, floats are C-style-cast to ints, and clamped at zero for negative values or wrapped by the array size for large values.<br/>
- Other supported types are:</p>
<pre><code class="ಠhighlight-container">Geometry
Texture
Material
Actor Reference
Actor Reference Array
String
Struct <span class="token punctuation">(</span>see <span class="token string">'structs'</span> section below<span class="token punctuation">)</span>

</code></pre>
<p>- Errors (such as divide by zero, missing variables, null references, etc) generally return a value of 0.0.</p>
<h1><a id="_112"></a>查询函数</h1>
<p>Query functions (eg: <code>query.is\_baby</code> or <code>query.is\_item\_equipped(&#x27;main\_hand&#x27;)</code>) allow scripts to read game data. If a query function takes no arguments, the parentheses are optional. For a full list of query functions, see below.</p>
<h1><a id="_117"></a>缩写名</h1>
<p>To reduce typing burden and increase clarity when reading and writing molang, the following keyword aliases can make life a bit easier. Note that left and right sides function identically.</p>
<table><thead><tr><th>Full Name</th><th>Aliased Name</th></tr></thead><tbody><tr><td><code>context.moo</code></td><td><code>c.moo</code></td></tr><tr><td></td><td></td></tr><tr><td><code>query.moo</code></td><td><code>q.moo</code></td></tr><tr><td></td><td></td></tr><tr><td><code>temp.moo</code></td><td><code>t.moo</code></td></tr><tr><td></td><td></td></tr><tr><td><code>variable.moo</code></td><td><code>v.moo</code></td></tr><tr><td></td><td></td></tr></tbody></table>
<p>As an example...</p>
<pre><code class="ಠhighlight-container">math<span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span>query<span class="token punctuation">.</span>anim_time <span class="token operator">*</span> <span class="token number">38</span><span class="token punctuation">)</span> <span class="token operator">*</span> variable<span class="token punctuation">.</span>rotation_scale <span class="token operator">+</span> variable<span class="token punctuation">.</span>x <span class="token operator">*</span> variable<span class="token punctuation">.</span>x <span class="token operator">*</span> query<span class="token punctuation">.</span>life_time<span class="token punctuation">;</span>
</code></pre>
<p>...can also be written as:</p>
<pre><code class="ಠhighlight-container">math<span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span>q<span class="token punctuation">.</span>anim_time <span class="token operator">*</span> <span class="token number">38</span><span class="token punctuation">)</span> <span class="token operator">*</span> v<span class="token punctuation">.</span>rotation_scale <span class="token operator">+</span> v<span class="token punctuation">.</span>x <span class="token operator">*</span> v<span class="token punctuation">.</span>x <span class="token operator">*</span> q<span class="token punctuation">.</span>life_time
</code></pre>
<p>Either syntax will work, and can be intermixed as desired. eg:</p>
<pre><code class="ಠhighlight-container">math<span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span>q<span class="token punctuation">.</span>anim_time <span class="token operator">*</span> <span class="token number">38</span><span class="token punctuation">)</span> <span class="token operator">*</span> variable<span class="token punctuation">.</span>rotation_scale <span class="token operator">+</span> v<span class="token punctuation">.</span>x <span class="token operator">*</span> variable<span class="token punctuation">.</span>x <span class="token operator">*</span> query<span class="token punctuation">.</span>life_time
</code></pre>
<h1><a id="_145"></a>结构</h1>
<p>Structures of data, unlike C, are implicitly defined by usage. Their purpose is to more efficiently pass data around, such as passing <code>v.location</code> rather than <code>v.x</code>, <code>v.y</code>, and <code>v.z</code>. eg:</p>
<pre><code class="ಠhighlight-container">v<span class="token punctuation">.</span>location<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
v<span class="token punctuation">.</span>location<span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
v<span class="token punctuation">.</span>location<span class="token punctuation">.</span>z <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
v<span class="token punctuation">.</span>another_mob_set_elsewhere<span class="token operator">-</span><span class="token operator">></span>v<span class="token punctuation">.</span>first_mobs_location <span class="token operator">=</span> v<span class="token punctuation">.</span>location<span class="token punctuation">;</span>

</code></pre>
<p>For some more usage examples, each of the following scripts return 1.23</p>
<pre><code class="ಠhighlight-container">v<span class="token punctuation">.</span>cowcow<span class="token punctuation">.</span>friend <span class="token operator">=</span> v<span class="token punctuation">.</span>pigpig<span class="token punctuation">;</span> v<span class="token punctuation">.</span>pigpig<span class="token operator">-</span><span class="token operator">></span>v<span class="token punctuation">.</span>test<span class="token punctuation">.</span>a<span class="token punctuation">.</span>b<span class="token punctuation">.</span>c <span class="token operator">=</span> <span class="token number">1.23</span><span class="token punctuation">;</span> <span class="token keyword">return</span> v<span class="token punctuation">.</span>cowcow<span class="token punctuation">.</span>friend<span class="token operator">-</span><span class="token operator">></span>v<span class="token punctuation">.</span>test<span class="token punctuation">.</span>a<span class="token punctuation">.</span>b<span class="token punctuation">.</span>c<span class="token punctuation">;</span>

</code></pre>
<pre><code class="ಠhighlight-container">v<span class="token punctuation">.</span>cowcow<span class="token punctuation">.</span>friend <span class="token operator">=</span> v<span class="token punctuation">.</span>pigpig<span class="token punctuation">;</span> v<span class="token punctuation">.</span>pigpig<span class="token operator">-</span><span class="token operator">></span>v<span class="token punctuation">.</span>test<span class="token punctuation">.</span>a<span class="token punctuation">.</span>b<span class="token punctuation">.</span>c <span class="token operator">=</span> <span class="token number">1.23</span><span class="token punctuation">;</span> v<span class="token punctuation">.</span>moo <span class="token operator">=</span> v<span class="token punctuation">.</span>cowcow<span class="token punctuation">.</span>friend<span class="token operator">-</span><span class="token operator">></span>v<span class="token punctuation">.</span>test<span class="token punctuation">;</span> <span class="token keyword">return</span> v<span class="token punctuation">.</span>moo<span class="token punctuation">.</span>a<span class="token punctuation">.</span>b<span class="token punctuation">.</span>c<span class="token punctuation">;</span>

</code></pre>
<pre><code class="ಠhighlight-container">v<span class="token punctuation">.</span>cowcow<span class="token punctuation">.</span>friend <span class="token operator">=</span> v<span class="token punctuation">.</span>pigpig<span class="token punctuation">;</span> v<span class="token punctuation">.</span>pigpig<span class="token operator">-</span><span class="token operator">></span>v<span class="token punctuation">.</span>test<span class="token punctuation">.</span>a<span class="token punctuation">.</span>b<span class="token punctuation">.</span>c <span class="token operator">=</span> <span class="token number">1.23</span><span class="token punctuation">;</span> v<span class="token punctuation">.</span>moo <span class="token operator">=</span> v<span class="token punctuation">.</span>cowcow<span class="token punctuation">.</span>friend<span class="token operator">-</span><span class="token operator">></span>v<span class="token punctuation">.</span>test<span class="token punctuation">.</span>a<span class="token punctuation">;</span> <span class="token keyword">return</span> v<span class="token punctuation">.</span>moo<span class="token punctuation">.</span>b<span class="token punctuation">.</span>c<span class="token punctuation">;</span>

</code></pre>
<pre><code class="ಠhighlight-container">v<span class="token punctuation">.</span>cowcow<span class="token punctuation">.</span>friend <span class="token operator">=</span> v<span class="token punctuation">.</span>pigpig<span class="token punctuation">;</span> v<span class="token punctuation">.</span>pigpig<span class="token operator">-</span><span class="token operator">></span>v<span class="token punctuation">.</span>test<span class="token punctuation">.</span>a<span class="token punctuation">.</span>b<span class="token punctuation">.</span>c <span class="token operator">=</span> <span class="token number">1.23</span><span class="token punctuation">;</span> v<span class="token punctuation">.</span>moo <span class="token operator">=</span> v<span class="token punctuation">.</span>cowcow<span class="token punctuation">.</span>friend<span class="token operator">-</span><span class="token operator">></span>v<span class="token punctuation">.</span>test<span class="token punctuation">.</span>a<span class="token punctuation">.</span>b<span class="token punctuation">;</span> <span class="token keyword">return</span> v<span class="token punctuation">.</span>moo<span class="token punctuation">.</span>c<span class="token punctuation">;</span>

</code></pre>
<pre><code class="ಠhighlight-container">v<span class="token punctuation">.</span>cowcow<span class="token punctuation">.</span>friend <span class="token operator">=</span> v<span class="token punctuation">.</span>pigpig<span class="token punctuation">;</span> v<span class="token punctuation">.</span>pigpig<span class="token operator">-</span><span class="token operator">></span>v<span class="token punctuation">.</span>test<span class="token punctuation">.</span>a<span class="token punctuation">.</span>b<span class="token punctuation">.</span>c <span class="token operator">=</span> <span class="token number">1.23</span><span class="token punctuation">;</span> v<span class="token punctuation">.</span>moo <span class="token operator">=</span> v<span class="token punctuation">.</span>cowcow<span class="token punctuation">.</span>friend<span class="token operator">-</span><span class="token operator">></span>v<span class="token punctuation">.</span>test<span class="token punctuation">.</span>a<span class="token punctuation">.</span>b<span class="token punctuation">.</span>c<span class="token punctuation">;</span> <span class="token keyword">return</span> v<span class="token punctuation">.</span>moo<span class="token punctuation">;</span>

</code></pre>
<p>Note that structures can be arbitrarily deep in their nesting/recursiveness. That said, it is recommended that you don&#x27;t copy full structures inside other structures to avoid exploding memory, and not making structures too deep as there is a slight performance cost for each layer.</p>
<h1><a id="_212"></a>字符串</h1>
<p>Strings in molang are surrounded by single - <a href="http://quotes.Eg" target="_blank">quotes.Eg</a>: &#x27;minecraft:pig&#x27; or &#x27;hello world!&#x27;.An empty string is defined as two back - to - back single quotes. String operations only support <code>= =</code> and <code>! =</code> at this time.<br/>
Note: strings don&#x27;t support the &#x27; character as there is no support for escape characters at this time.</p>
<h1><a id="_218"></a>数学函数</h1>
<table><thead><tr><th>Function</th><th>Description</th></tr></thead><tbody><tr><td><code>math.abs(value)</code></td><td>Absolute value of value</td></tr><tr><td></td><td></td></tr><tr><td><code>math.acos(value)</code></td><td>arccos of value</td></tr><tr><td></td><td></td></tr><tr><td><code>math.asin(value)</code></td><td>arcsin of value</td></tr><tr><td></td><td></td></tr><tr><td><code>math.atan(value)</code></td><td>arctan of value</td></tr><tr><td></td><td></td></tr><tr><td><code>math.atan2(y, x)</code></td><td>arctan of y/x. NOTE: the order of arguments!</td></tr><tr><td></td><td></td></tr><tr><td><code>math.ceil(value)</code></td><td>Round value up to nearest integral number</td></tr><tr><td></td><td></td></tr><tr><td><code>math.clamp(value, min, max)</code></td><td>Clamp value to between min and max inclusive</td></tr><tr><td></td><td></td></tr><tr><td><code>math.cos(value)</code></td><td>Cosine (in degrees) of value</td></tr><tr><td></td><td></td></tr><tr><td><code>math.die\_roll(num, low, high)</code></td><td>returns the sum of &#x27;num&#x27; random numbers, each with a value from low to high<code>. Note: the generated random numbers are not integers like normal dice. For that, use</code>math.die_roll_integer`.</td></tr><tr><td></td><td></td></tr><tr><td><code>math.die\_roll\_integer(num, low, high)</code></td><td>returns the sum of &#x27;num&#x27; random integer numbers, each with a value from low to high`. Note: the generated random numbers are integers like normal dice.</td></tr><tr><td></td><td></td></tr><tr><td><code>math.exp(value)</code></td><td>Calculates e to the value&#x27;th power</td></tr><tr><td></td><td></td></tr><tr><td><code>math.floor(value)</code></td><td>Round value down to nearest integral number</td></tr><tr><td></td><td></td></tr><tr><td><code>math.hermite\_blend(value)</code></td><td>Useful for simple smooth curve interpolation using one of the Hermite Basis functions: <code>3t^2 - 2t^3</code>. Note that while any valid float is a valid input, this function works best in the range [0,1].</td></tr><tr><td></td><td></td></tr><tr><td><code>math.lerp(start, end, 0\_to\_1)</code></td><td>Lerp from start to end via 0_to_1</td></tr><tr><td></td><td></td></tr><tr><td><code>math.lerprotate(start, end, 0\_to\_1)</code></td><td>Lerp the shortest direction around a circle from start degrees to end degrees via 0_to_1</td></tr><tr><td></td><td></td></tr><tr><td><code>math.ln(value)</code></td><td>Natural logarithm of value</td></tr><tr><td></td><td></td></tr><tr><td><code>math.max(A, B)</code></td><td>Return highest value of A or B</td></tr><tr><td></td><td></td></tr><tr><td><code>math.min(A, B)</code></td><td>Return lowest value of A or B</td></tr><tr><td></td><td></td></tr><tr><td><code>math.mod(value, denominator)</code></td><td>Return the remainder of value / denominator</td></tr><tr><td></td><td></td></tr><tr><td><code>math.pi</code></td><td>Returns the float representation of the constant pi.</td></tr><tr><td></td><td></td></tr><tr><td><code>math.pow(base, exponent)</code></td><td>Elevates <code>base</code> to the <code>exponent</code>&#x27;th power</td></tr><tr><td></td><td></td></tr><tr><td><code>math.random(low, high)</code></td><td>Random value between low and high inclusive</td></tr><tr><td></td><td></td></tr><tr><td><code>math.random\_integer(low, high)</code></td><td>Random integer value between low and high inclusive</td></tr><tr><td></td><td></td></tr><tr><td><code>math.round(value)</code></td><td>Round value to nearest integral number</td></tr><tr><td></td><td></td></tr><tr><td><code>math.sin(value)</code></td><td>Sine (in degrees) of value</td></tr><tr><td></td><td></td></tr><tr><td><code>math.sqrt(value)</code></td><td>Square root of value</td></tr><tr><td></td><td></td></tr><tr><td><code>math.trunc(value)</code></td><td>Round value towards zero</td></tr><tr><td></td><td></td></tr></tbody></table>
<h1><a id="_Arrow_Operator_279"></a>-&gt; Arrow Operator</h1>
<p>Some return values of query function, or values stored in temp/entity/context variables can be a reference to another entity. The <code>-&gt;</code> operator allows a script to access variables or run queries on that entity. For example, the example below will find all pigs within four metres of the current entity(including itself if it&#x27;s a pig), and increment a variable <code>v.x</code> on itself if the block immediately above each pig is flammable(such as an oak button) :<br/>
Note that in the case where the left - hand - side of the <code>- &gt;</code> operator has an error(value is null, the entity was killed previously, or some other issue), the expression will not evaluate the right - hand - side and will return 0. This implementation style was a choice between performance and not requiring content creators to overly worry about checking for potentially bad values everywhere.</p>
<pre><code class="ಠhighlight-container">"v<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token function">for_each</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span>pig<span class="token punctuation">,</span> query<span class="token punctuation">.</span><span class="token function">get_nearby_entities</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">'minecraft:pig'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    v<span class="token punctuation">.</span>x <span class="token operator">=</span> v<span class="token punctuation">.</span>x <span class="token operator">+</span> v<span class="token punctuation">.</span>pig<span class="token operator">-</span><span class="token operator">></span>query<span class="token punctuation">.</span><span class="token function">get_relative_block_state</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'flammable'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>"


</code></pre>
<h2><a id="Public_Variables_298"></a>Public Variables</h2>
<p>In general, variables of a mob are considered private to that mob and cannot be accessed by another. To expose read-only access of a variable to other mobs, you need to set the &#x27;public&#x27; setting on that variable in the owning entity&#x27;s resource definition. It is also recommended to default-initialize the variable.</p>
<pre><code class="ಠhighlight-container"><span class="token punctuation">{</span>
  <span class="token string">"format_version"</span><span class="token punctuation">:</span> <span class="token string">"1.10.0"</span><span class="token punctuation">,</span>
  <span class="token string">"minecraft:client_entity"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">"description"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
      <span class="token string">"scripts"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token string">"variables"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
          <span class="token string">"variable.oink"</span><span class="token punctuation">:</span> <span class="token string">"public"</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string">"initialize"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
          <span class="token string">"variable.oink = 0;"</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>


</code></pre>
<h1><a id="__Brace_Scope_Delimiters_333"></a>{ } Brace Scope Delimiters</h1>
<p>One can group a series of statements into a single group by wrapping them in { and } symbols. This is used primarily in loops and conditional statements:</p>
<pre><code class="ಠhighlight-container"><span class="token punctuation">(</span>v<span class="token punctuation">.</span>moo <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token punctuation">{</span>
  v<span class="token punctuation">.</span>x <span class="token operator">=</span> math<span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span>q<span class="token punctuation">.</span>life_time <span class="token operator">*</span> <span class="token number">45</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  v<span class="token punctuation">.</span>x <span class="token operator">=</span> v<span class="token punctuation">.</span>x <span class="token operator">*</span> v<span class="token punctuation">.</span>x <span class="token operator">+</span> <span class="token number">17.3</span><span class="token punctuation">;</span>
  t<span class="token punctuation">.</span>sin_x <span class="token operator">=</span> math<span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
  v<span class="token punctuation">.</span>x <span class="token operator">=</span> t<span class="token punctuation">.</span>sin_x <span class="token operator">*</span> t<span class="token punctuation">.</span>sin_x <span class="token operator">+</span> v<span class="token punctuation">.</span>x <span class="token operator">*</span> v<span class="token punctuation">.</span>x<span class="token punctuation">;</span>
  v<span class="token punctuation">.</span>x <span class="token operator">=</span> math<span class="token punctuation">.</span><span class="token function">sqrt</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span>x<span class="token punctuation">)</span> <span class="token operator">*</span> v<span class="token punctuation">.</span>x <span class="token operator">*</span> math<span class="token punctuation">.</span>pi<span class="token punctuation">;</span>
<span class="token punctuation">}</span>


</code></pre>
<h1><a id="loop_353"></a>loop</h1>
<p>Sometimes you want to execute an expression multiple times. Rather than copy-pasting it a bunch, you can use <code>loop(count, expression);</code>. We have placed some arbitrary restrictions on these for safety for now.The maximum loop counter is(as of this document being written) 1024. Also, note that while you can nest loops inside loops pretty much as deep as you want, be careful you don&#x27;t make a loop so long it will hang your game.<br/>
A Fibonacci Calculator</p>
<pre><code class="ಠhighlight-container">v<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
v<span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token function">loop</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  t<span class="token punctuation">.</span>x <span class="token operator">=</span> v<span class="token punctuation">.</span>x <span class="token operator">+</span> v<span class="token punctuation">.</span>y<span class="token punctuation">;</span>
  v<span class="token punctuation">.</span>x <span class="token operator">=</span> v<span class="token punctuation">.</span>y<span class="token punctuation">;</span>
  v<span class="token punctuation">.</span>y <span class="token operator">=</span> t<span class="token punctuation">.</span>x<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


</code></pre>
<h1><a id="for_each_373"></a>for_each</h1>
<p><code>query.get\_nearby\_entities</code> (see below) returns an array of entities. In order to iterate through them, you can use the following new built-in function <code>for\_each</code>. It takes three parameters: <code>for\_each(variable, array, expression);</code> The variable can be any variable, either a <code>temp.</code> or <code>variable.</code>, although I&#x27;d recommend using <code>temp.</code> to not pollute the entity&#x27;s variable space. The expression is any molang expression you want to execute for each entry in the array)</p>
<h1><a id="break_378"></a>break</h1>
<p>This will exit out of a <code>loop</code> or <code>for\_each</code> early. Eg:</p>
<pre><code class="ಠhighlight-container">v<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
v<span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token function">loop</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>t<span class="token punctuation">.</span>x <span class="token operator">=</span> v<span class="token punctuation">.</span>x <span class="token operator">+</span> v<span class="token punctuation">.</span>y<span class="token punctuation">;</span> v<span class="token punctuation">.</span>x <span class="token operator">=</span> v<span class="token punctuation">.</span>y<span class="token punctuation">;</span> v<span class="token punctuation">.</span>y <span class="token operator">=</span> t<span class="token punctuation">.</span>x<span class="token punctuation">;</span> <span class="token punctuation">(</span>v<span class="token punctuation">.</span>y <span class="token operator">></span> <span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token keyword">break</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


</code></pre>
<p>This will immediately exit the inner-most active loop, as per C - style language rules. If you have:</p>
<pre><code class="ಠhighlight-container">v<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token function">loop</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token function">loop</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>v<span class="token punctuation">.</span>x <span class="token operator">=</span> v<span class="token punctuation">.</span>x <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token punctuation">(</span>v<span class="token punctuation">.</span>x <span class="token operator">></span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token keyword">break</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


</code></pre>
<p>The <code>break</code> statement will terminate the inner loop when <code>v.x &gt; 5</code>, and continue processing the outer loop&#x27;s script. Note that as v.x is not reset between the outer loops, the second time into the inner loop this will add one more to <code>v.x</code> and then exit the inner loop again, resulting in a final value of <code>v.x</code> of <code>6 + 1 + 1 + 1 + ... + 1</code> = <code>15</code>.)</p>
<h1><a id="continue_412"></a>continue</h1>
<p><code>continue</code> functions as per C-style language rules. Currently only supported in loops, this will skip to the next iteration of the current loop. See <code>break</code> above for more details on inner/outer loops. The following example will result in v.x becoming 6.0, as the increment will be skipped once it reaches that value. Note that it is better to break out of the loop in this contrived example, as it would be more performant than continuing to perform all 10 iterations.</p>
<pre><code class="ಠhighlight-container">v<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token function">loop</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token punctuation">(</span>v<span class="token punctuation">.</span>x <span class="token operator">></span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>
  v<span class="token punctuation">.</span>x <span class="token operator">=</span> v<span class="token punctuation">.</span>x <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


</code></pre>
<h1><a id="_Null_Coalescing_Operator_432"></a>?? Null Coalescing Operator</h1>
<p>Similar to how the null-coalescing operator works in C#, one can now reference a variable that may or may not exist without seeing a content error. If it doesn&#x27;t, you can now provide a default value to use. Previously, if a variable didn&#x27;t exist you would get a content error. This was to make sure variables were always initialized correctly to avoid uninitialized variable bugs. Unfortunately this then required initialize scripts, or in some cases some complex work-arounds to make sure variables were initialized. Now, if you know a variable won&#x27;t be initialized in the first run of a script, you can use the following:</p>
<pre><code class="ಠhighlight-container">variable<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token punctuation">(</span>variable<span class="token punctuation">.</span>x <span class="token operator">?</span><span class="token operator">?</span> <span class="token number">1.2</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">0.3</span><span class="token punctuation">;</span>

</code></pre>
<p>This will use the value of <code>variable.x</code> if it is valid, or else 1.2 if <code>variable.x</code>:<br/>
- has not yet been initialized<br/>
- is a reference to a deleted entity<br/>
- is an invalid reference<br/>
- holds an error</p>
<p>Note that the <code>??</code> operator will work with <code>variable.</code>s, <code>temp.</code>s, and <code>context.</code>s that hold numbers or entity references, but not resources such as materials, textures, or geometries (as those must exist and be valid else it&#x27;s a content error). If the first argument would result in something that can&#x27;t be resolved, it will return the second argument.</p>
<p>_Reminder: the standing rule of thumb in molang is that if something would error or be a bad value, it is converted to 0.0 (and generally throw a content error on screen in non-publish builds. Note that content errors may prevent uploading content to the marketplace, so please ensure expressions aren&#x27;t going to do bad things such as dividing by zero)._</p>
<h1><a id="Simple_vs_Complex_Expressions_459"></a>Simple vs Complex Expressions[</h1>
<p>A simple expression is a single statement, the value of which is returned to the system that evaluated the expression. eg:</p>
<pre><code class="ಠhighlight-container">math<span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span>query<span class="token punctuation">.</span>anim_time <span class="token operator">*</span> <span class="token number">1.23</span><span class="token punctuation">)</span>

</code></pre>
<p>A complex expression is one with multiple statements, each ending in a &#x27;;&#x27;. Each statement is evaluated in order. In the current implementation, the last statement requires the use of the return keyword and defines the resulting value of the expression. eg:</p>
<pre><code class="ಠhighlight-container">temp<span class="token punctuation">.</span>moo <span class="token operator">=</span> math<span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span>query<span class="token punctuation">.</span>anim_time <span class="token operator">*</span> <span class="token number">1.23</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
temp<span class="token punctuation">.</span>baa <span class="token operator">=</span> math<span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span>query<span class="token punctuation">.</span>life_time <span class="token operator">+</span> <span class="token number">2.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">return</span> temp<span class="token punctuation">.</span>moo <span class="token operator">*</span> temp<span class="token punctuation">.</span>moo <span class="token operator">+</span> temp<span class="token punctuation">.</span>baa<span class="token punctuation">;</span>

</code></pre>
<p>Note that in a simple expression, <code>;</code> is not allowed, whereas in a complex expression, each statement requires a <code>;</code> including the last. Also, note that if you don&#x27;t <code>return</code> a value from a complex expression, the expression will evaluate to 0.0.</p>
<h1><a id="Domain_Examples_490"></a>Domain Examples</h1>
<p>In the definition file there is a section for pre-computing values. These are executed immediately before animation and render controllers are processed, and stored in the entity. The purpose is to pre-compute any expensive and complex values you may want to reuse in your scripts, long-living index variable updates, or generally any one-off computation per render tick.</p>
<pre><code class="ಠhighlight-container"><span class="token string">"scripts"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">"pre_animation"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token string">"variable.my_constant = (Math.cos(query.modified_distance_moved * 38.17) * query.modified_move_speed;"</span><span class="token punctuation">,</span>
      <span class="token string">"variable.my_constant2 = Math.exp(1.5);"</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

</code></pre>
<h1><a id="_508"></a>动画于与动画控制器</h1>
<p>These are numerical operations to control which animations are playing and how to animate bones. &quot;variable.variable_name&quot; and &quot;query.function_name&quot; refer to the entity currently being rendered. They have access to everything in the language except material, texture, and geometry types.</p>
<h1><a id="_513"></a>渲染控制器</h1>
<p>There are a few different kinds of expressions here, where context implies what is allowed. As with animations, the entity accessors refer to the current entity, however depending on the context one also has access to materials, textures, and geometries. There are two sections in a render controller:<br/>
-Array definitions (optional)<br/>
-Resource usage (required)<br/>
The array definition section allows you to create arrays of resources by resource type if you so desire. These can then be referenced in the resource usage section.</p>
<h2><a id="_520"></a>数组表达式</h2>
<p>For each of the three resource types (materials, textures, and geometry), you can define an array of resources. The name of the resource is the nice-name from the definition file. Using materials as an example:</p>
<pre><code class="ಠhighlight-container"><span class="token string">"arrays"</span><span class="token punctuation">:</span>
<span class="token punctuation">{</span>
  <span class="token string">"materials"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">"array.my_array_1"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"material.a"</span><span class="token punctuation">,</span> <span class="token string">"material.b"</span><span class="token punctuation">,</span> <span class="token string">"material.c"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">"array.my_array_2"</span> <span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"material.d"</span><span class="token punctuation">,</span> <span class="token string">"material.e"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">"array.my_array_3"</span> <span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"array.my_array_1"</span><span class="token punctuation">,</span> <span class="token string">"material.my_array_2"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">"array.my_array_4"</span> <span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"array.my_array_2"</span><span class="token punctuation">,</span> <span class="token string">"material.my_array_3"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">"array.my_array_5"</span> <span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"array.my_array_1"</span><span class="token punctuation">,</span> <span class="token string">"material.my_array_1"</span><span class="token punctuation">,</span> <span class="token string">"material.my_array_4"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">"array.my_array_6"</span> <span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"array.my_array_1"</span><span class="token punctuation">,</span> <span class="token string">"material.f"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

</code></pre>
<p>Note that all elements of an array must be of the same type. eg: a texture array must only contain textures.</p>
<p>An array can reference any combination of zero or more arrays (including duplicates if desired) and/or zero or more materails (again, including duplicates if you like), and you can have as many arrays as you like, each with as many elements as you like. If an array includes arrays in its members, they do not need to be the same length. When indexing into an array in the resource usage section, you use numerical expressions. If the resulting number is negative, it will use zero as the index. Any non - negative index will converted to an integer, and will wrap based on the size of the array:</p>
<pre><code class="ಠhighlight-container">index <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> expression_result<span class="token punctuation">)</span> <span class="token operator">%</span> array_size

</code></pre>
<h2><a id="_557"></a>资源表达式</h2>
<p>A resource expression must return a single resource of a specific type depending on the context.<br/>
For example, in the &quot;geometry&quot; section, you must produce an expression that will result in a single geometry. Some examples:<br/>
Cycle through an array of geometries at a rate of one per second</p>
<pre><code class="ಠhighlight-container"><span class="token string">"geometry"</span><span class="token punctuation">:</span> <span class="token string">"array.my_geometries[query.anim_time]"</span>

</code></pre>
<p>Pick a geo based on an entity flag</p>
<pre><code class="ಠhighlight-container"><span class="token string">"geometry"</span><span class="token punctuation">:</span> <span class="token string">"query.is_sheared ? geometry.sheared : geometry.woolly"</span>

</code></pre>
<p>Use a specific geometry</p>
<pre><code class="ಠhighlight-container"><span class="token string">"geometry"</span><span class="token punctuation">:</span> <span class="token string">"geometry.my_geo"</span>

</code></pre>
<p>Use specific geo when sleeping, otherwise flip through an array based on a cosine curve, using index zero for almost half the time while the cosine curve is negative</p>
<pre><code class="ಠhighlight-container"><span class="token string">"geometry"</span><span class="token punctuation">:</span> <span class="token string">"query.is_sleeping ? geometry.my_sleeping_geo : array.my_geos[math.cos(query.anim_time * 12.3 + 41.9) * 10 + 0.6]"</span>

</code></pre>
<h2><a id="Resource_Sections_595"></a>Resource Sections</h2>
<h3><a id="_596"></a>模型</h3>
<p>The geometry section specifies which geometry to use when rendering. As you can specify as many render controllers as you like in the definition file, a single render controller is only concerned with how to render a single geometry. Note that a geometry can be arbitrarily complex using any number of bones and polygons.</p>
<h3><a id="_601"></a>材料</h3>
<p>The materials section specifies how to map what material to what bone of the geometry. A single material is mapped to a whole bone. Material expressions are evaluated in the order listed. The first part of each statement is the name of the model part to apply the material to, and the second part is the material to use. The model part name can use * for wild - card matching of characters. For example :</p>
<pre><code class="ಠhighlight-container">  <span class="token string">"materials"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span> <span class="token string">"*"</span><span class="token punctuation">:</span> <span class="token string">"Material.default"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> <span class="token string">"TailA"</span><span class="token punctuation">:</span> <span class="token string">"array.hair_colors[variable.hair_color]"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> <span class="token string">"Mane"</span><span class="token punctuation">:</span> <span class="token string">"array.hair_colors[variable.hair_color]"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> <span class="token string">"*Saddle*"</span><span class="token punctuation">:</span> <span class="token string">"variable.is_leather_saddle ? material.leather_saddle : material.iron_saddle"</span> <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>

</code></pre>
<p>- This will start by applying Material.default to all model parts.<br/>
- Next, it will set the material on a model part named &quot;TailA&quot; to the result of the expression &quot;Array.hairColors[variable.hair_color]&quot;. This will look up some previously created variable on the entity named hair_color and use that to index into a material array called &quot;array.hair_colors&quot; defined in this render controller. This will overwrite the Material.default material set in the line above.<br/>
- Third, it will look up the same material as the expression is identical, and apply it to the &quot;Mane&quot; model part.<br/>
- Lastly, if will find any model part starting with, ending with, or containing &quot;Saddle&quot; (case sensitive) and change its material to either material.leather_saddle or material.iron_saddle depending on the previously set entity variable variable.is_leather_saddle.</p>
<h1><a id="_632"></a>查询函数</h1>
<p>Query Functions are boolean expressions that allow you to query for values owned by the engine under different circumstances. They can be used in MoLang expressionsUseful for controlling things like changing positions, textures, animations, etc if a mob is a baby. For example:</p>
<pre><code class="ಠhighlight-container"><span class="token string">"position"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token string">"query.is_baby ? -8.0 : 0.0"</span><span class="token punctuation">,</span> <span class="token string">"query.is_baby ? 4.0 : 0.0"</span> <span class="token punctuation">]</span>

</code></pre>
<h1><a id="List_of_Entity_Queries_645"></a>List of Entity Queries</h1>
<table><thead><tr><th>名称</th><th>描述</th></tr></thead><tbody><tr><td>query.all_animations_finished</td><td>仅在动画控制器中有效。如果当前动画控制器状态下的所有动画至少播放了一次，则返回1.0，否则返回0.0。</td></tr><tr><td>query.anim_time</td><td>返回自当前动画开始以来的时间（以秒为单位），否则返回0.0（如果未在动画中调用）</td></tr><tr><td>query.any_animation_finished</td><td>仅在动画控制器中有效。如果当前动画控制器状态下的任何动画至少播放了一次，则返回1.0，否则返回0.0。</td></tr><tr><td>query.armor_color_slot</td><td>将装甲插槽索引作为参数，并返回请求的插槽中装甲的颜色</td></tr><tr><td>query.armor_material_slot</td><td>将装甲插槽索引作为参数，并在请求的装甲插槽中返回装甲材料类型</td></tr><tr><td>query.armor_texture_slot</td><td>将装甲插槽索引作为参数，并返回所请求插槽的纹理类型</td></tr><tr><td>query.blocking</td><td>如果实体正在阻止，则返回1.0，否则返回0.0</td></tr><tr><td>query.body_y_rotation</td><td>如果在actor上调用，则返回身体偏航旋转，否则返回0.0</td></tr><tr><td>query.can_climb</td><td>如果实体可以爬升，则返回1.0，否则返回0.0</td></tr><tr><td>query.can_fly</td><td>如果实体可以飞行，则返回1.0，否则返回0.0</td></tr><tr><td>query.can_power_jump</td><td>如果实体可以跳跃，则返回1.0，否则返回0.0</td></tr><tr><td>query.can_swim</td><td>如果实体可以游泳则返回1.0，否则返回0.0</td></tr><tr><td>query.can_walk</td><td>如果实体可以行走，则返回1.0，否则返回0.0</td></tr><tr><td>query.current_squish_value</td><td>返回当前实体的压缩值，如果没有意义，则返回0.0</td></tr><tr><td>query.delta_time</td><td>返回自上一帧以来的时间（以秒为单位）</td></tr><tr><td>query.frame_alpha</td><td>返回正在渲染此帧的AI刻度之间的比率（从0到1）</td></tr><tr><td>query.ground_speed</td><td>以米/秒为单位返回实体的地面速度</td></tr><tr><td>query.has_armor_slot</td><td>将装甲插槽索引作为参数，如果实体在请求的插槽中有装甲，则返回1.0，否则返回0.0</td></tr><tr><td>query.has_collision</td><td>如果实体启用了碰撞，则返回1.0，否则返回0.0</td></tr><tr><td>query.has_gravity</td><td>如果实体受重力影响，则返回1.0，否则返回0.0</td></tr><tr><td>query.has_owner</td><td>如果实体具有所有者ID，则返回true，否则返回false</td></tr><tr><td>query.has_rider</td><td>如果实体有骑手，则返回1.0，否则返回0.0</td></tr><tr><td>query.has_target</td><td>如果实体具有目标，则返回1.0，否则返回0.0</td></tr><tr><td>query.head_roll_angle</td><td>返回狼实体头部的侧倾角</td></tr><tr><td>query.head_x_rotation</td><td>将一个参数作为参数。如果有意义，则返回该实体的第n个头部x旋转，否则返回0.0</td></tr><tr><td>query.head_y_rotation</td><td>将一个参数作为参数。如果有意义，则返回实体的第n个头y旋转，否则返回0.0</td></tr><tr><td>query.invulnerable_ticks</td><td>如果有意义的话，返回实体剩余的无痕数，否则返回0.0</td></tr><tr><td>query.is_angry</td><td>如果实体生气则返回1.0，否则返回0.0</td></tr><tr><td>query.is_avoiding_mobs</td><td>如果实体逃离暴民则返回1.0，否则返回0.0</td></tr><tr><td>query.is_baby</td><td>如果实体是婴儿，则返回1.0，否则返回0.0</td></tr><tr><td>query.is_breathing</td><td>如果实体呼吸，则返回1.0，否则返回0.0</td></tr><tr><td>query.is_bribed</td><td>如果实体已经贿赂，则返回1.0，否则返回0.0</td></tr><tr><td>query.is_carrying_block</td><td>如果实体携带一个块，则返回1.0，否则返回0.0</td></tr><tr><td>query.is_casting</td><td>如果实体正在投射，则返回1.0，否则返回0.0</td></tr><tr><td>query.is_charged</td><td>如果实体已收费，则返回1.0，否则返回0.0</td></tr><tr><td>query.is_charging</td><td>如果实体正在收费，则返回1.0，否则返回0.0</td></tr><tr><td>query.is_chested</td><td>如果实体已连接箱子，则返回1.0，否则返回0.0</td></tr><tr><td>query.is_critical</td><td>如果实体是关键的，则返回1.0，否则返回0.0</td></tr><tr><td>query.is_dancing</td><td>如果实体在跳舞，则返回1.0，否则返回0.0</td></tr><tr><td>query.is_delayed_attacking</td><td>如果实体使用延迟攻击进行攻击，则返回1.0，否则返回0.0</td></tr><tr><td>query.is_eating</td><td>如果实体正在吃饭，则返回1.0，否则返回0.0</td></tr><tr><td>query.is_elder</td><td>如果实体是旧版本，则返回1.0，否则返回0.0</td></tr><tr><td>query.is_enchanted</td><td>如果附魔该实体，则返回1.0，否则返回0.0</td></tr><tr><td>query.is_fire_immune</td><td>如果该实体不受射击，则返回1.0，否则返回0.0</td></tr><tr><td>query.is_first_person</td><td>如果实体以第一人称模式渲染，则返回1.0，否则返回0.0</td></tr><tr><td>query.is_gliding</td><td>如果实体滑动，则返回1.0，否则返回0.0</td></tr><tr><td>query.is_grazing</td><td>如果实体在放牧，则返回1.0；否则，则返回0.0</td></tr><tr><td>query.is_idling</td><td>如果实体闲置，则返回1.0，否则返回0.0</td></tr><tr><td>query.is_ignited</td><td>如果实体被点燃，则返回1.0，否则返回0.0</td></tr><tr><td>query.is_illager_captain</td><td>如果实体是前卫队长，则返回1.0，否则返回0.0</td></tr><tr><td>query.is_in_love</td><td>如果实体恋爱，则返回1.0，否则返回0.0</td></tr><tr><td>query.is_in_water</td><td>如果实体在水中，则返回1.0，否则返回0.0</td></tr><tr><td>query.is_in_water_or_rain</td><td>如果实体在水或雨中，则返回1.0，否则返回0.0</td></tr><tr><td>query.is_interested</td><td>如果该实体感兴趣，则返回1.0，否则返回0.0</td></tr><tr><td>query.is_invisible</td><td>如果实体不可见，则返回1.0，否则返回0.0</td></tr><tr><td>query.is_jumping</td><td>如果实体在跳跃，则返回1.0，否则返回0.0</td></tr><tr><td>query.is_laying_down</td><td>如果实体放下则返回1.0，否则返回0.0</td></tr><tr><td>query.is_laying_egg</td><td>如果实体下蛋，则返回1.0，否则返回0.0</td></tr><tr><td>query.is_leashed</td><td>如果实体被释放，则返回1.0，否则返回0.0</td></tr><tr><td>query.is_lingering</td><td>如果实体徘徊，则返回1.0，否则返回0.0</td></tr><tr><td>query.is_moving</td><td>如果实体正在移动，则返回1.0，否则返回0.0</td></tr><tr><td>query.is_on_ground</td><td>如果实体在地面上，则返回1.0，否则返回0.0</td></tr><tr><td>query.is_onfire</td><td>如果实体着火则返回1.0，否则返回0.0</td></tr><tr><td>query.is_orphaned</td><td>如果该实体是孤立的，则返回1.0，否则返回0.0</td></tr><tr><td>query.is_powered</td><td>如果实体已通电，则返回1.0，否则返回0.0</td></tr><tr><td>query.is_pregnant</td><td>如果实体已怀孕，则返回1.0，否则返回0.0</td></tr><tr><td>query.is_resting</td><td>如果实体处于静止状态，则返回1.0，否则返回0.0</td></tr><tr><td>query.is_riding</td><td>如果实体在骑行，则返回1.0，否则返回0.0</td></tr><tr><td>query.is_roaring</td><td>如果实体当前正在咆哮，则返回1.0，否则返回0.0</td></tr><tr><td>query.is_rolling</td><td>如果实体正在滚动，则返回1.0，否则返回0.0</td></tr><tr><td>query.is_saddled</td><td>如果实体有鞍，则返回1.0，否则返回0.0</td></tr><tr><td>query.is_scared</td><td>如果该实体感到害怕，则返回1.0，否则返回0.0</td></tr><tr><td>query.is_shaking</td><td>如果实体正在投射，则返回1.0，否则返回0.0</td></tr><tr><td>query.is_shaking_wetness</td><td>如果实体正在甩水，则返回true</td></tr><tr><td>query.is_sheared</td><td>如果实体能够被剪切并被剪切，则返回1.0，否则返回0.0</td></tr><tr><td>query.is_shield_powered</td><td>如果该实体有意义，则返回1.0f（如果该实体具有活动的有源屏蔽），否则返回0.0</td></tr><tr><td>query.is_silent</td><td>如果实体为静默则返回1.0，否则返回0.0</td></tr><tr><td>query.is_sitting</td><td>如果实体坐着，则返回1.0，否则返回0.0</td></tr><tr><td>query.is_sleeping</td><td>如果实体正在睡眠，则返回1.0，否则返回0.0</td></tr><tr><td>query.is_sneaking</td><td>如果实体正在潜行，则返回1.0，否则返回0.0</td></tr><tr><td>query.is_sneezing</td><td>如果实体在打喷嚏，则返回1.0，否则返回0.0</td></tr><tr><td>query.is_sprinting</td><td>如果实体正在冲刺，则返回1.0，否则返回0.0</td></tr><tr><td>query.is_stackable</td><td>如果实体是可堆叠的，则返回1.0，否则返回0.0</td></tr><tr><td>query.is_standing</td><td>如果实体站立，则返回1.0，否则返回0.0</td></tr><tr><td>query.is_stunned</td><td>如果该实体当前处于眩晕状态，则返回1.0，否则返回0.0</td></tr><tr><td>query.is_swimming</td><td>如果实体正在游泳，则返回1.0，否则返回0.0</td></tr><tr><td>query.is_tamed</td><td>如果已驯服实体，则返回1.0，否则返回0.0</td></tr><tr><td>query.is_transforming</td><td>如果实体正在变换，则返回1.0，否则返回0.0</td></tr><tr><td>query.is_using_item</td><td>如果实体正在使用项目，则返回1.0，否则返回0.0</td></tr><tr><td>query.is_wall_climbing</td><td>如果实体正在爬墙，则返回1.0，否则返回0.0</td></tr><tr><td>query.item_in_use_duration</td><td>以秒为单位返回商品的使用时间（最长持续时间），否则返回0.0。</td></tr><tr><td>query.item_max_use_duration</td><td>返回该项目可以使用的最长时间，否则返回0.0。</td></tr><tr><td>query.item_remaining_use_duration</td><td>返回项目剩余可使用的时间（以秒为单位），否则返回0.0。</td></tr><tr><td>query.key_frame_lerp_time</td><td>返回上一个和下一个关键帧之间的比率</td></tr><tr><td>query.lie_amount</td><td>返回实体的躺下数量</td></tr><tr><td>query.life_span</td><td>返回实体的有限寿命，如果实体永久存在，则返回0.0</td></tr><tr><td>query.life_time</td><td>返回自当前动画开始以来的时间（以秒为单位），否则返回0.0（如果未在动画中调用）</td></tr><tr><td>query.log</td><td>调试日志值</td></tr><tr><td>query.mark_variant</td><td>返回实体的mark变体</td></tr><tr><td>query.max_trade_tier</td><td>如果有意义，则返回实体的最大交易层，否则返回0.0</td></tr><tr><td>query.model_scale</td><td>返回当前实体的比例</td></tr><tr><td>query.modified_distance_moved</td><td>返回实体在水平方向上移动的总距离（以米为单位）（自从上次加载以来，不一定是最初创建实体以来），该状态由状态标记（例如is_baby或on_fire）修改</td></tr><tr><td>query.modified_move_speed</td><td>返回由状态标志（例如is_baby或on_fire）修改的实体的当前行走速度</td></tr><tr><td>query.overlay_alpha</td><td>请勿使用-此功能已弃用，将被删除</td></tr><tr><td>query.previous_squish_value</td><td>返回当前实体的前一个压缩值，如果没有意义，则返回0.0</td></tr><tr><td>query.roll_counter</td><td>返回实体的滚动计数器</td></tr><tr><td>query.shake_angle</td><td>返回狼实体的摇动角度</td></tr><tr><td>query.sit_amount</td><td>返回实体的当前坐席量</td></tr><tr><td>query.skin_id</td><td>返回实体的皮肤ID</td></tr><tr><td>query.sneeze_counter</td><td>返回实体的打喷嚏计数器</td></tr><tr><td>query.spellcolor.b</td><td>如果有意义，则返回当前实体拼写颜色的蓝色通道，否则返回0.0</td></tr><tr><td>query.spellcolor.g</td><td>如果可行，则返回当前实体拼写颜色的绿色通道，否则返回0.0</td></tr><tr><td>query.spellcolor.r</td><td>如果有意义，则返回当前实体拼写颜色的红色通道，否则返回0.0</td></tr><tr><td>query.standing_scale</td><td>返回实体的站立程度</td></tr><tr><td>query.swell_amount</td><td>返回实体的肿胀程度</td></tr><tr><td>query.swelling_dir</td><td>如果有意义，则返回实体的膨胀方向，否则返回0.0</td></tr><tr><td>query.tai​​l_angle</td><td>返回狼实体尾巴的角度，否则返回0.0</td></tr><tr><td>query.target_x_rotation</td><td>如果有一个，则返回瞄准当前目标的x旋转，否则返回0.0</td></tr><tr><td>query.target_y_rotation</td><td>如果有一个，则返回瞄准实体当前目标所需的y旋转，否则返回0.0</td></tr><tr><td>query.time_stamp</td><td>返回级别的当前时间戳</td></tr><tr><td>query.trade_experience</td><td>返回有意义的实体当前交易经验，否则返回0.0</td></tr><tr><td>query.trade_tier</td><td>如果有意义，则返回实体的贸易层，否则返回0.0</td></tr><tr><td>query.unhappy_counter</td><td>返回实体的不满意程度</td></tr><tr><td>query.variant</td><td>返回实体的变种值</td></tr><tr><td>query.wing_flap_position</td><td>返回实体的襟翼位置，如果没有意义，则返回0.0</td></tr><tr><td>query.wing_flap_speed</td><td>返回实体的机翼襟翼速度；如果没有意义，则返回0.0</td></tr><tr><td>query.yaw_speed</td><td>返回实体的偏航速度</td></tr></tbody></table>
<h1><a id="_780"></a>实验操作人员</h1>
<p>Some operators are under <code>Experimental MoLang Features</code> atm (see list below). We are hoping people will experiment with them and give us feedback, so we can move them into general usage.</p>
<p>- ContextVariable<br/>
- Loop<br/>
- ForEach<br/>
- Break<br/>
- Continue<br/>
- Pointer</p>
</div><div class="article-navigation"><span class="prev">上一篇：<a href="../物品/index.html">物品</a></span><span class="next">下一篇：<a href="../粒子效果/index.html">粒子效果</a></span></div><div class="article-foot"></div></div></div></div></div></div><script src="../../../../asset/reader.js"></script><script src="../../../../asset/plugins/ad/reader/index.js"></script><script src="../../../../asset/plugins/copy-code/reader/index.js"></script><script src="../../../../asset/plugins/flow/reader/index.js"></script><script src="../../../../asset/plugins/highlight/reader/index.js"></script><script src="../../../../asset/plugins/tex/reader/index.js"></script><script src="../../../../asset/plugins/sequence/reader/index.js"></script><script src="../../../../asset/plugins/theme-default/reader/index.js"></script><script src="../../../../asset/plugins/search/reader/index.js"></script><script src="../../../../asset/plugins/image-zoom/reader/index.js"></script><script src="../../../../asset/plugins/audio/reader/index.js"></script><script type="application/payload+json">{"config":{"plugins":["highlight","tex","ad","image-zoom","sequence","flow","copy-code","audio","copyright","search"],"pluginsConfig":{"theme-default":{"auto_open":true,"show_nav":true,"logo":{"image":"https:\/\/img.imgdb.cn\/item\/6034a72f5f4313ce25324c9e.png","url":"\/"},"navs":[]},"highlight":{"defaultLanguage":"javascript"},"ad":{"beforeArticleBody":[],"afterArticleBody":[]},"audio":[]},"cover":"cover.jpg","title":"AddonWiki","id":483922,"description":""},"summary":[{"level":"1","title":"主页","ref":"home.md","path":"home.html","articles":[]},{"level":"2","title":"Addonr入门教程","ref":"Addon入门教程\/index.md","path":"Addon入门教程\/index.html","articles":[{"level":"2.1","title":"0.Addon入门教程前言","ref":"Addon入门教程\/0.Addon教程前言\/index.md","path":"Addon入门教程\/0.Addon教程前言\/index.html","articles":[]},{"level":"2.2","title":"1.AddOns基础知识","ref":"Addon入门教程\/1.AddOns基础知识\/index.md","path":"Addon入门教程\/1.AddOns基础知识\/index.html","articles":[{"level":"2.2.1","title":"1-1.AddOns附加包的定义与发展史","ref":"Addon入门教程\/1.AddOns基础知识\/1-1.AddOns附加包的定义与发展史\/index.md","path":"Addon入门教程\/1.AddOns基础知识\/1-1.AddOns附加包的定义与发展史\/index.html","articles":[]},{"level":"2.2.2","title":"1-2.JSON基础认识","ref":"Addon入门教程\/1.AddOns基础知识\/1-2.JSON基础认识\/index.md","path":"Addon入门教程\/1.AddOns基础知识\/1-2.JSON基础认识\/index.html","articles":[]},{"level":"2.2.3","title":"1-3.工具准备","ref":"Addon入门教程\/1.AddOns基础知识\/1-3.工具准备\/index.md","path":"Addon入门教程\/1.AddOns基础知识\/1-3.工具准备\/index.html","articles":[]}]},{"level":"2.3","title":"2.AddOns组成结构","ref":"Addon入门教程\/2.AddOns组成结构\/index.md","path":"Addon入门教程\/2.AddOns组成结构\/index.html","articles":[{"level":"2.3.1","title":"2-1.第一个包!","ref":"Addon入门教程\/2.AddOns组成结构\/2-1.第一个包\/index.md","path":"Addon入门教程\/2.AddOns组成结构\/2-1.第一个包\/index.html","articles":[]},{"level":"2.3.2","title":"2-2.导入与测试","ref":"Addon入门教程\/2.AddOns组成结构\/2-2.导入与测试\/index.md","path":"Addon入门教程\/2.AddOns组成结构\/2-2.导入与测试\/index.html","articles":[]}]},{"level":"2.4","title":"3.自定义游戏内容","ref":"Addon入门教程\/3.自定义游戏内容\/index.md","path":"Addon入门教程\/3.自定义游戏内容\/index.html","articles":[{"level":"2.4.1","title":"3-1.自定义物品","ref":"Addon入门教程\/3.自定义游戏内容\/3-1.自定义物品\/index.md","path":"Addon入门教程\/3.自定义游戏内容\/3-1.自定义物品\/index.html","articles":[]},{"level":"2.4.2","title":"3-2.自定义方块","ref":"Addon入门教程\/3.自定义游戏内容\/3-2.自定义方块\/index.md","path":"Addon入门教程\/3.自定义游戏内容\/3-2.自定义方块\/index.html","articles":[]},{"level":"2.4.3","title":"3-3.自定义配方","ref":"Addon入门教程\/3.自定义游戏内容\/3-3.自定义配方\/index.md","path":"Addon入门教程\/3.自定义游戏内容\/3-3.自定义配方\/index.html","articles":[{"level":"2.4.3.1","title":"3-3-1.自定义合成","ref":"Addon入门教程\/3.自定义游戏内容\/3-3.自定义配方\/3-3-1.自定义合成\/index.md","path":"Addon入门教程\/3.自定义游戏内容\/3-3.自定义配方\/3-3-1.自定义合成\/index.html","articles":[]},{"level":"2.4.3.2","title":"3-3-2.自定义熔炼","ref":"Addon入门教程\/3.自定义游戏内容\/3-3.自定义配方\/3-3-2.自定义熔炼\/index.md","path":"Addon入门教程\/3.自定义游戏内容\/3-3.自定义配方\/3-3-2.自定义熔炼\/index.html","articles":[]},{"level":"2.4.3.3","title":"3-3-3.自定义切石机","ref":"Addon入门教程\/3.自定义游戏内容\/3-3.自定义配方\/3-3-3.自定义切石机\/index.md","path":"Addon入门教程\/3.自定义游戏内容\/3-3.自定义配方\/3-3-3.自定义切石机\/index.html","articles":[]},{"level":"2.4.3.4","title":"3-3-4.自定义酿造台","ref":"Addon入门教程\/3.自定义游戏内容\/3-3.自定义配方\/3-3-4.自定义酿造台\/index.md","path":"Addon入门教程\/3.自定义游戏内容\/3-3.自定义配方\/3-3-4.自定义酿造台\/index.html","articles":[]},{"level":"2.4.3.5","title":"3-3-5.自定义制图台","ref":"Addon入门教程\/3.自定义游戏内容\/3-3.自定义配方\/3-3-5.自定义制图台\/index.md","path":"Addon入门教程\/3.自定义游戏内容\/3-3.自定义配方\/3-3-5.自定义制图台\/index.html","articles":[]}]},{"level":"2.4.4","title":"3-4.自定义生成结构","ref":"Addon入门教程\/3.自定义游戏内容\/3-4.自定义生成结构\/index.md","path":"Addon入门教程\/3.自定义游戏内容\/3-4.自定义生成结构\/index.html","articles":[{"level":"2.4.4.1","title":"3-4-1.自定义生物群系","ref":"Addon入门教程\/3.自定义游戏内容\/3-4.自定义生成结构\/3-4-1.自定义生物群系\/index.md","path":"Addon入门教程\/3.自定义游戏内容\/3-4.自定义生成结构\/3-4-1.自定义生物群系\/index.html","articles":[]},{"level":"2.4.4.2","title":"3-4-2.自定义树特征","ref":"Addon入门教程\/3.自定义游戏内容\/3-4.自定义生成结构\/3-4-2.自定义树特征\/index.md","path":"Addon入门教程\/3.自定义游戏内容\/3-4.自定义生成结构\/3-4-2.自定义树特征\/index.html","articles":[]},{"level":"2.4.4.3","title":"3-4-3.自定义矿石特征","ref":"Addon入门教程\/3.自定义游戏内容\/3-4.自定义生成结构\/3-4-3.自定义矿石特征\/index.md","path":"Addon入门教程\/3.自定义游戏内容\/3-4.自定义生成结构\/3-4-3.自定义矿石特征\/index.html","articles":[]},{"level":"2.4.4.4","title":"3-4-4.自定义结构特征","ref":"Addon入门教程\/3.自定义游戏内容\/3-4.自定义生成结构\/3-4-4.自定义结构特征\/index.md","path":"Addon入门教程\/3.自定义游戏内容\/3-4.自定义生成结构\/3-4-4.自定义结构特征\/index.html","articles":[]}]},{"level":"2.4.5","title":"3-5.自定义实体","ref":"Addon入门教程\/3.自定义游戏内容\/3-5.自定义实体\/index.md","path":"Addon入门教程\/3.自定义游戏内容\/3-5.自定义实体\/index.html","articles":[{"level":"2.4.5.1","title":"3-5-1.组成结构","ref":"Addon入门教程\/3.自定义游戏内容\/3-5.自定义实体\/3-5-1.组成结构\/index.md","path":"Addon入门教程\/3.自定义游戏内容\/3-5.自定义实体\/3-5-1.组成结构\/index.html","articles":[]},{"level":"2.4.5.2","title":"3-5-2.行为包部分-实体行为(必选)","ref":"Addon入门教程\/3.自定义游戏内容\/3-5.自定义实体\/3-5-2.行为包部分-实体行为必选\/index.md","path":"Addon入门教程\/3.自定义游戏内容\/3-5.自定义实体\/3-5-2.行为包部分-实体行为必选\/index.html","articles":[]},{"level":"2.4.5.3","title":"3-5-3.行为包部分-实体生成(可选)","ref":"Addon入门教程\/3.自定义游戏内容\/3-5.自定义实体\/3-5-3.行为包部分-实体生成可选\/index.md","path":"Addon入门教程\/3.自定义游戏内容\/3-5.自定义实体\/3-5-3.行为包部分-实体生成可选\/index.html","articles":[]},{"level":"2.4.5.4","title":"3-5-4.行为包部分-实体掉落物(可选)","ref":"Addon入门教程\/3.自定义游戏内容\/3-5.自定义实体\/3-5-4.行为包部分-实体掉落物可选\/index.md","path":"Addon入门教程\/3.自定义游戏内容\/3-5.自定义实体\/3-5-4.行为包部分-实体掉落物可选\/index.html","articles":[]},{"level":"2.4.5.5","title":"3-5-5.资源包部分-实体资源包定义(必选)","ref":"Addon入门教程\/3.自定义游戏内容\/3-5.自定义实体\/3-5-5.资源包部分-实体资源包定义必选\/index.md","path":"Addon入门教程\/3.自定义游戏内容\/3-5.自定义实体\/3-5-5.资源包部分-实体资源包定义必选\/index.html","articles":[]},{"level":"2.4.5.6","title":"3-5-6.资源包部分-材料(可选)","ref":"Addon入门教程\/3.自定义游戏内容\/3-5.自定义实体\/3-5-6.资源包部分-材料可选\/index.md","path":"Addon入门教程\/3.自定义游戏内容\/3-5.自定义实体\/3-5-6.资源包部分-材料可选\/index.html","articles":[]},{"level":"2.4.5.7","title":"3-5-7.资源包部分-模型(可选)","ref":"Addon入门教程\/3.自定义游戏内容\/3-5.自定义实体\/3-5-7.资源包部分-模型可选\/index.md","path":"Addon入门教程\/3.自定义游戏内容\/3-5.自定义实体\/3-5-7.资源包部分-模型可选\/index.html","articles":[]},{"level":"2.4.5.8","title":"3-5-8.资源包部分-贴图(可选)","ref":"Addon入门教程\/3.自定义游戏内容\/3-5.自定义实体\/3-5-8.资源包部分-贴图可选\/index.md","path":"Addon入门教程\/3.自定义游戏内容\/3-5.自定义实体\/3-5-8.资源包部分-贴图可选\/index.html","articles":[]},{"level":"2.4.5.9","title":"3-5-9.动画","ref":"Addon入门教程\/3.自定义游戏内容\/3-5.自定义实体\/3-5-9.动画\/index.md","path":"Addon入门教程\/3.自定义游戏内容\/3-5.自定义实体\/3-5-9.动画\/index.html","articles":[]},{"level":"2.4.5.10","title":"3-5-10.动画控制器","ref":"Addon入门教程\/3.自定义游戏内容\/3-5.自定义实体\/3-5-10.动画控制器\/index.md","path":"Addon入门教程\/3.自定义游戏内容\/3-5.自定义实体\/3-5-10.动画控制器\/index.html","articles":[]},{"level":"2.4.5.11","title":"3-5-11.资源包部分-渲染控制器(可选)","ref":"Addon入门教程\/3.自定义游戏内容\/3-5.自定义实体\/3-5-11.资源包部分-渲染控制器可选\/index.md","path":"Addon入门教程\/3.自定义游戏内容\/3-5.自定义实体\/3-5-11.资源包部分-渲染控制器可选\/index.html","articles":[]}]},{"level":"2.4.6","title":"3-6.自定义颗粒效果","ref":"Addon入门教程\/3.自定义游戏内容\/3-6.自定义颗粒效果\/index.md","path":"Addon入门教程\/3.自定义游戏内容\/3-6.自定义颗粒效果\/index.html","articles":[]},{"level":"2.4.7","title":"3-7.自定义音乐与音效","ref":"Addon入门教程\/3.自定义游戏内容\/3-7.自定义音乐与音效\/index.md","path":"Addon入门教程\/3.自定义游戏内容\/3-7.自定义音乐与音效\/index.html","articles":[]}]},{"level":"2.5","title":"4.后期","ref":"Addon入门教程\/4.后期\/index.md","path":"Addon入门教程\/4.后期\/index.html","articles":[{"level":"2.5.1","title":"4-1.Addon加密","ref":"Addon入门教程\/4.后期\/4-1.Addon加密\/index.md","path":"Addon入门教程\/4.后期\/4-1.Addon加密\/index.html","articles":[]},{"level":"2.5.2","title":"4-2.Addon发布","ref":"Addon入门教程\/4.后期\/4-2.Addon发布\/index.md","path":"Addon入门教程\/4.后期\/4-2.Addon发布\/index.html","articles":[]}]}]},{"level":"3","title":"基础概念","ref":"基础概念\/index.md","path":"基础概念\/index.html","articles":[{"level":"3.1","title":"Lang语言","ref":"基础概念\/Lang语言\/index.md","path":"基础概念\/Lang语言\/index.html","articles":[]},{"level":"3.2","title":"Function命令函数","ref":"基础概念\/Function命令函数\/index.md","path":"基础概念\/Function命令函数\/index.html","articles":[]},{"level":"3.3","title":"Structure结构","ref":"基础概念\/Structure结构\/index.md","path":"基础概念\/Structure结构\/index.html","articles":[]},{"level":"3.4","title":"组件、组件组、事件","ref":"基础概念\/组件、组件组、事件\/index.md","path":"基础概念\/组件、组件组、事件\/index.html","articles":[]},{"level":"3.5","title":"指令","ref":"基础概念\/指令\/index.md","path":"基础概念\/指令\/index.html","articles":[]}]},{"level":"4","title":"名词解释","ref":"名词解释\/index.md","path":"名词解释\/index.html","articles":[{"level":"4.1","title":"标识符","ref":"名词解释\/标识符\/index.md","path":"名词解释\/标识符\/index.html","articles":[]},{"level":"4.2","title":"命名空间","ref":"名词解释\/命名空间\/index.md","path":"名词解释\/命名空间\/index.html","articles":[]},{"level":"4.3","title":"优先权","ref":"名词解释\/优先权\/index.md","path":"名词解释\/优先权\/index.html","articles":[]},{"level":"4.4","title":"Nbt","ref":"名词解释\/Nbt\/index.md","path":"名词解释\/Nbt\/index.html","articles":[]},{"level":"4.5","title":"运行标识符","ref":"名词解释\/运行标识符\/index.md","path":"名词解释\/运行标识符\/index.html","articles":[]},{"level":"4.6","title":"value","ref":"名词解释\/value\/index.md","path":"名词解释\/value\/index.html","articles":[]},{"level":"4.7","title":"范围值","ref":"名词解释\/范围值\/index.md","path":"名词解释\/范围值\/index.html","articles":[]},{"level":"4.8","title":"概率","ref":"名词解释\/概率\/index.md","path":"名词解释\/概率\/index.html","articles":[]},{"level":"4.9","title":"浮点数","ref":"名词解释\/浮点数\/index.md","path":"名词解释\/浮点数\/index.html","articles":[]}]},{"level":"5","title":"专辑篇","ref":"专辑篇\/index.md","path":"专辑篇\/index.html","articles":[{"level":"5.1","title":"交易列表","ref":"专辑篇\/交易列表\/index.md","path":"专辑篇\/交易列表\/index.html","articles":[]},{"level":"5.2","title":"战利品表","ref":"专辑篇\/战利品表\/index.md","path":"专辑篇\/战利品表\/index.html","articles":[]},{"level":"5.3","title":"滤器","ref":"专辑篇\/滤器\/index.md","path":"专辑篇\/滤器\/index.html","articles":[]},{"level":"5.4","title":"实体生成","ref":"专辑篇\/实体生成\/index.md","path":"专辑篇\/实体生成\/index.html","articles":[]},{"level":"5.5","title":"触发器","ref":"专辑篇\/触发器\/index.md","path":"专辑篇\/触发器\/index.html","articles":[]},{"level":"5.6","title":"事件","ref":"专辑篇\/事件\/index.md","path":"专辑篇\/事件\/index.html","articles":[]},{"level":"5.7","title":"MoLang","ref":"专辑篇\/Molang\/index.md","path":"专辑篇\/Molang\/index.html","articles":[]},{"level":"5.8","title":"动画与动画控制器","ref":"专辑篇\/动画与动画控制器\/index.md","path":"专辑篇\/动画与动画控制器\/index.html","articles":[]},{"level":"5.9","title":"渲染控制器","ref":"专辑篇\/渲染控制器\/index.md","path":"专辑篇\/渲染控制器\/index.html","articles":[]},{"level":"5.10","title":"材料","ref":"专辑篇\/材料\/index.md","path":"专辑篇\/材料\/index.html","articles":[]},{"level":"5.11","title":"着色器（光影）","ref":"专辑篇\/着色器（光影）\/index.md","path":"专辑篇\/着色器（光影）\/index.html","articles":[]},{"level":"5.12","title":"JSON用户界面UI","ref":"专辑篇\/JSON用户界面UI\/index.md","path":"专辑篇\/JSON用户界面UI\/index.html","articles":[]}]},{"level":"6","title":"脚本引擎","ref":"脚本引擎\/index.md","path":"脚本引擎\/index.html","articles":[]},{"level":"7","title":"技巧","ref":"技巧\/index.md","path":"技巧\/index.html","articles":[{"level":"7.1","title":"模型、贴图、动画","ref":"技巧\/模型、贴图、动画\/index.md","path":"技巧\/模型、贴图、动画\/index.html","articles":[]}]},{"level":"8","title":"API文档","ref":"ApiDoc\/index.md","path":"ApiDoc\/index.html","articles":[{"level":"8.1","title":"版本","ref":"ApiDoc\/版本\/index.md","path":"ApiDoc\/版本\/index.html","articles":[{"level":"8.1.1","title":"1.16.200.2","ref":"ApiDoc\/版本\/1.16.200.2\/index.md","path":"ApiDoc\/版本\/1.16.200.2\/index.html","articles":[{"level":"8.1.1.1","title":"附加包","ref":"ApiDoc\/版本\/1.16.200.2\/附加包\/index.md","path":"ApiDoc\/版本\/1.16.200.2\/附加包\/index.html","articles":[]},{"level":"8.1.1.2","title":"动画","ref":"ApiDoc\/版本\/1.16.200.2\/动画\/index.md","path":"ApiDoc\/版本\/1.16.200.2\/动画\/index.html","articles":[]},{"level":"8.1.1.3","title":"生物群系","ref":"ApiDoc\/版本\/1.16.200.2\/生物群系\/index.md","path":"ApiDoc\/版本\/1.16.200.2\/生物群系\/index.html","articles":[]},{"level":"8.1.1.4","title":"方块","ref":"ApiDoc\/版本\/1.16.200.2\/方块\/index.md","path":"ApiDoc\/版本\/1.16.200.2\/方块\/index.html","articles":[]},{"level":"8.1.1.5","title":"实体","ref":"ApiDoc\/版本\/1.16.200.2\/实体\/index.md","path":"ApiDoc\/版本\/1.16.200.2\/实体\/index.html","articles":[]},{"level":"8.1.1.6","title":"实体事件","ref":"ApiDoc\/版本\/1.16.200.2\/实体事件\/index.md","path":"ApiDoc\/版本\/1.16.200.2\/实体事件\/index.html","articles":[]},{"level":"8.1.1.7","title":"特征","ref":"ApiDoc\/版本\/1.16.200.2\/特征\/index.md","path":"ApiDoc\/版本\/1.16.200.2\/特征\/index.html","articles":[]},{"level":"8.1.1.8","title":"物品","ref":"ApiDoc\/版本\/1.16.200.2\/物品\/index.md","path":"ApiDoc\/版本\/1.16.200.2\/物品\/index.html","articles":[]},{"level":"8.1.1.9","title":"Molang","ref":"ApiDoc\/版本\/1.16.200.2\/Molang\/index.md","path":"ApiDoc\/版本\/1.16.200.2\/Molang\/index.html","articles":[]},{"level":"8.1.1.10","title":"粒子效果","ref":"ApiDoc\/版本\/1.16.200.2\/粒子效果\/index.md","path":"ApiDoc\/版本\/1.16.200.2\/粒子效果\/index.html","articles":[]},{"level":"8.1.1.11","title":"配方","ref":"ApiDoc\/版本\/1.16.200.2\/配方\/index.md","path":"ApiDoc\/版本\/1.16.200.2\/配方\/index.html","articles":[]},{"level":"8.1.1.12","title":"架构","ref":"ApiDoc\/版本\/1.16.200.2\/架构\/index.md","path":"ApiDoc\/版本\/1.16.200.2\/架构\/index.html","articles":[]},{"level":"8.1.1.13","title":"脚本","ref":"ApiDoc\/版本\/1.16.200.2\/脚本\/index.md","path":"ApiDoc\/版本\/1.16.200.2\/脚本\/index.html","articles":[]},{"level":"8.1.1.14","title":"纹理集","ref":"ApiDoc\/版本\/1.16.200.2\/纹理集\/index.md","path":"ApiDoc\/版本\/1.16.200.2\/纹理集\/index.html","articles":[]},{"level":"8.1.1.15","title":"UI","ref":"ApiDoc\/版本\/1.16.200.2\/UI\/index.md","path":"ApiDoc\/版本\/1.16.200.2\/UI\/index.html","articles":[]}]}]},{"level":"8.2","title":"其它文档","ref":"ApiDoc\/其它文档\/index.md","path":"ApiDoc\/其它文档\/index.html","articles":[{"level":"8.2.1","title":"脚本","ref":"ApiDoc\/其它文档\/脚本\/index.md","path":"ApiDoc\/其它文档\/脚本\/index.html","articles":[{"level":"8.2.1.1","title":"脚本引擎系统","ref":"ApiDoc\/其它文档\/脚本\/脚本引擎系统\/index.md","path":"ApiDoc\/其它文档\/脚本\/脚本引擎系统\/index.html","articles":[]},{"level":"8.2.1.2","title":"API对象","ref":"ApiDoc\/其它文档\/脚本\/API对象\/index.md","path":"ApiDoc\/其它文档\/脚本\/API对象\/index.html","articles":[]},{"level":"8.2.1.3","title":"组件","ref":"ApiDoc\/其它文档\/脚本\/组件\/index.md","path":"ApiDoc\/其它文档\/脚本\/组件\/index.html","articles":[]},{"level":"8.2.1.4","title":"事件","ref":"ApiDoc\/其它文档\/脚本\/事件\/index.md","path":"ApiDoc\/其它文档\/脚本\/事件\/index.html","articles":[]}]},{"level":"8.2.2","title":"H5UI","ref":"ApiDoc\/其它文档\/H5UI\/index.md","path":"ApiDoc\/其它文档\/H5UI\/index.html","articles":[]},{"level":"8.2.3","title":"MoLang","ref":"ApiDoc\/其它文档\/MoLang\/index.md","path":"ApiDoc\/其它文档\/MoLang\/index.html","articles":[]},{"level":"8.2.4","title":"着色器","ref":"ApiDoc\/其它文档\/着色器\/index.md","path":"ApiDoc\/其它文档\/着色器\/index.html","articles":[]},{"level":"8.2.5","title":"材料","ref":"ApiDoc\/其它文档\/材料\/index.md","path":"ApiDoc\/其它文档\/材料\/index.html","articles":[]},{"level":"8.2.6","title":"JSON用户界面UI","ref":"ApiDoc\/其它文档\/JSON用户界面UI\/index.md","path":"ApiDoc\/其它文档\/JSON用户界面UI\/index.html","articles":[]},{"level":"8.2.7","title":"生物群系","ref":"ApiDoc\/其它文档\/生物群系\/index.md","path":"ApiDoc\/其它文档\/生物群系\/index.html","articles":[]},{"level":"8.2.8","title":"粒子效果","ref":"ApiDoc\/其它文档\/粒子效果\/index.md","path":"ApiDoc\/其它文档\/粒子效果\/index.html","articles":[]},{"level":"8.2.9","title":"实体事件","ref":"ApiDoc\/其它文档\/实体事件\/index.md","path":"ApiDoc\/其它文档\/实体事件\/index.html","articles":[]},{"level":"8.2.10","title":"战利品表","ref":"ApiDoc\/其它文档\/战利品表\/index.md","path":"ApiDoc\/其它文档\/战利品表\/index.html","articles":[]},{"level":"8.2.11","title":"交易列表","ref":"ApiDoc\/其它文档\/交易列表\/index.md","path":"ApiDoc\/其它文档\/交易列表\/index.html","articles":[]},{"level":"8.2.12","title":"实体生成","ref":"ApiDoc\/其它文档\/实体生成\/index.md","path":"ApiDoc\/其它文档\/实体生成\/index.html","articles":[]},{"level":"8.2.13","title":"滤器","ref":"ApiDoc\/其它文档\/滤器\/index.md","path":"ApiDoc\/其它文档\/滤器\/index.html","articles":[]},{"level":"8.2.14","title":"触发器","ref":"ApiDoc\/其它文档\/触发器\/index.md","path":"ApiDoc\/其它文档\/触发器\/index.html","articles":[]},{"level":"8.2.15","title":"方块","ref":"ApiDoc\/其它文档\/方块\/index.md","path":"ApiDoc\/其它文档\/方块\/index.html","articles":[]},{"level":"8.2.16","title":"物品栏子分类","ref":"ApiDoc\/其它文档\/物品栏子分类\/index.md","path":"ApiDoc\/其它文档\/物品栏子分类\/index.html","articles":[]},{"level":"8.2.17","title":"运行标识符","ref":"ApiDoc\/其它文档\/运行标识符\/index.md","path":"ApiDoc\/其它文档\/运行标识符\/index.html","articles":[]},{"level":"8.2.18","title":"声音","ref":"ApiDoc\/其它文档\/声音\/index.md","path":"ApiDoc\/其它文档\/声音\/index.html","articles":[]},{"level":"8.2.19","title":"颜色字体","ref":"ApiDoc\/其它文档\/颜色字体\/index.md","path":"ApiDoc\/其它文档\/颜色字体\/index.html","articles":[]},{"level":"8.2.20","title":"特殊字符","ref":"ApiDoc\/其它文档\/特殊字符\/index.md","path":"ApiDoc\/其它文档\/特殊字符\/index.html","articles":[]}]}]}],"article":{"path":"ApiDoc\/版本\/1.16.200.2\/Molang\/index.html","ref":"ApiDoc\/版本\/1.16.200.2\/Molang\/index.md","title":"Molang","content":"# Molang文档\n## **版本：** 1.16.200.2（正式版）\n*****\n# 为什么要创造MoLang?\n\nMoLang is a simple expression-based language designed for fast, data-driven calculation of values at run-time, and with a direct connection to in-game values and systems. Its focus is solely to enable script-like capabilities in high-performance systems where languages such as JavaScript are not performant at scale. We need scripting capabilities in these low-level systems to support end-user modding capabilities, and custom entities, rendering, and animation.  \n  \n\n# 语法结构\n\nThe language structure is largely based on simple 'C' language family style syntax. A script is made of either one expression for simple math calculations, or can be made of several statements where more complicated code is required.  \n  \nIn simple cases, the terminating `;` is omitted and the expression result is returned. In complex cases (where there are multiple statements terminated with `;`s, `0.0` is returned unless there is a `return` statement, which will exit the current script scope returning the computed value of that return expression (exactly like C).  \n\n# 区分大小写 \n\nAll things in molang are case-INsensitive, with the exception of strings, which maintain the case provided  \n  \n\n# 关键词\nAll identifiers not in a scope listed below are reserved for future use  \n\n| Keyword | Description |\n| --- | --- |\n| `1.23` | Numerical constant value  \n |\n| `! && || = > == !=` | Logical operators  \n |\n| `\\* \/ + -` | Basic math operators  \n |\n| `(` `)` | Parentheses for expression term evaluation control  \n |\n| `{` `}` | Braces for execution scope  \n |\n| `??` | Null coalescing operator, for handling missing variables or stale actor references  \n |\n| `geometry.texture\\_name` | A reference to a geometry named in the entity definition  \n |\n| `material.texture\\_name` | A reference to a material named in the entity definition  \n |\n| `math.function\\_name` | Various math functions  \n |\n| `query.function\\_name` | Access to an entity's properties  \n |\n| `temp.variable\\_name` | Read\/write temporary storage  \n |\n| `texture.texture\\_name` | A reference to a texture named in the entity definition  \n |\n| `variable.variable\\_name` | Read\/write storage on an actor  \n |\n| `?:` | Trinary conditional operator  \n |\n| `?` | Binary conditional operator  \n |\n| `this` | The current value that this script will ultimately write to (context specific)  \n |\n| `return` | For complex expressions, this evaluates the following statement and stops execution of the script, returns the value computed  \n |\n| `->` | (EXPERIMENTAL) Arrow operator, for accessing data from a different entity  \n |\n| `context.variable\\_name` | (EXPERIMENTAL) Read-only storage provided by the game in certain scenarios  \n |\n| `loop` | (EXPERIMENTAL) For repeating one or more commands 'n' times  \n |\n| `for\\_each` | (EXPERIMENTAL) For iterating over an array of entities  \n |\n| `break` | (EXPERIMENTAL) For early exiting a loop\/for\\_each scope  \n |\n| `continue` | (EXPERIMENTAL) For skipping the rest of the set of statements of a loop\/for\\_each iteration and moving to the next iteration  \n |\n| `\\[` `\\]` | Brackets for array access  \n |\n\n  \n\n# 变量\n\nThere are three variable lifetimes a variable may belong to: Temporary, Entity, and Context:  \n\\- Temporary variables (eg: `temp.moo = 1;`) are read\/write and valid for the scope they are defined in, as per C rules. For performance reasons their lifetime is global to the current script execution and may return a valid value outside of the outermost scope they are defined in for a script. Be careful in complex scripts. We will be adding content errors for invalid accesses as soon as possible.  \n\\- Entity variables (eg: `variable.moo = 1;`) are read\/write and store their value on the entity for the lifetime of that entity. Note that these are currently not saved, so quitting and reloading the world will re-initialize these. In the same way, if the entity is despawned, any variables on the entity will be lost.  \n\\- Context variables (eg: `context.moo`) are read-only and valid for the script they are run on. The game defines these, and details on what variables are in each will be available in the documentation of the area where that molang script exists (such as behaviours defining what context variables they expose).  \n  \n\n# 值\n\n  \n\\- All numerical values are floats.  \n\\- Boolean values such as actor flags are converted and stored as a float value of either 0.0 or 1.0 for values of false or true respectively.  \n\\- For boolean tests, a float value equivalent to 0.0 is false, and anything not equal to 0.0 is true.  \n\\- For array indices, floats are C-style-cast to ints, and clamped at zero for negative values or wrapped by the array size for large values.  \n\\- Other supported types are:  \n  \n  \n\n~~~json\nGeometry\nTexture\nMaterial\nActor Reference\nActor Reference Array\nString\nStruct (see 'structs' section below)\n\n~~~\n\n  \n  \n\\- Errors (such as divide by zero, missing variables, null references, etc) generally return a value of 0.0.  \n  \n  \n  \n\n# 查询函数\n\nQuery functions (eg: `query.is\\_baby` or `query.is\\_item\\_equipped('main\\_hand')`) allow scripts to read game data. If a query function takes no arguments, the parentheses are optional. For a full list of query functions, see below.  \n  \n\n# 缩写名\n\nTo reduce typing burden and increase clarity when reading and writing molang, the following keyword aliases can make life a bit easier. Note that left and right sides function identically.  \n\n\n| Full Name | Aliased Name |\n| --- | --- |\n| `context.moo` | `c.moo`  \n |\n| `query.moo` | `q.moo`  \n |\n| `temp.moo` | `t.moo`  \n |\n| `variable.moo` | `v.moo`  \n |\n\nAs an example...  \n~~~json\nmath.cos(query.anim_time * 38) * variable.rotation_scale + variable.x * variable.x * query.life_time;\n~~~\n...can also be written as:  \n~~~json\nmath.cos(q.anim_time * 38) * v.rotation_scale + v.x * v.x * q.life_time\n~~~\nEither syntax will work, and can be intermixed as desired. eg:  \n~~~json\nmath.cos(q.anim_time * 38) * variable.rotation_scale + v.x * variable.x * query.life_time\n~~~\n# 结构\n\nStructures of data, unlike C, are implicitly defined by usage. Their purpose is to more efficiently pass data around, such as passing `v.location` rather than `v.x`, `v.y`, and `v.z`. eg:  \n  \n\n~~~json\nv.location.x = 1;\nv.location.y = 2;\nv.location.z = 3;\nv.another_mob_set_elsewhere->v.first_mobs_location = v.location;\n\n~~~\n\n  \n  \nFor some more usage examples, each of the following scripts return 1.23  \n  \n  \n\n~~~json\nv.cowcow.friend = v.pigpig; v.pigpig->v.test.a.b.c = 1.23; return v.cowcow.friend->v.test.a.b.c;\n\n~~~\n\n  \n  \n  \n\n~~~json\nv.cowcow.friend = v.pigpig; v.pigpig->v.test.a.b.c = 1.23; v.moo = v.cowcow.friend->v.test; return v.moo.a.b.c;\n\n~~~\n\n  \n  \n  \n\n~~~json\nv.cowcow.friend = v.pigpig; v.pigpig->v.test.a.b.c = 1.23; v.moo = v.cowcow.friend->v.test.a; return v.moo.b.c;\n\n~~~\n\n  \n  \n  \n\n~~~json\nv.cowcow.friend = v.pigpig; v.pigpig->v.test.a.b.c = 1.23; v.moo = v.cowcow.friend->v.test.a.b; return v.moo.c;\n\n~~~\n\n  \n  \n  \n\n~~~json\nv.cowcow.friend = v.pigpig; v.pigpig->v.test.a.b.c = 1.23; v.moo = v.cowcow.friend->v.test.a.b.c; return v.moo;\n\n~~~\n\n  \n  \nNote that structures can be arbitrarily deep in their nesting\/recursiveness. That said, it is recommended that you don't copy full structures inside other structures to avoid exploding memory, and not making structures too deep as there is a slight performance cost for each layer.  \n  \n  \n  \n\n# 字符串\n\nStrings in molang are surrounded by single - quotes.Eg: 'minecraft:pig' or 'hello world!'.An empty string is defined as two back - to - back single quotes. String operations only support `= = ` and `! = ` at this time.  \nNote: strings don't support the ' character as there is no support for escape characters at this time.  \n  \n\n# 数学函数\n\n| Function | Description |\n| --- | --- |\n| `math.abs(value)` | Absolute value of value  \n |\n| `math.acos(value)` | arccos of value  \n |\n| `math.asin(value)` | arcsin of value  \n |\n| `math.atan(value)` | arctan of value  \n |\n| `math.atan2(y, x)` | arctan of y\/x. NOTE: the order of arguments!  \n |\n| `math.ceil(value)` | Round value up to nearest integral number  \n |\n| `math.clamp(value, min, max)` | Clamp value to between min and max inclusive  \n |\n| `math.cos(value)` | Cosine (in degrees) of value  \n |\n| `math.die\\_roll(num, low, high)` | returns the sum of 'num' random numbers, each with a value from low to high`. Note: the generated random numbers are not integers like normal dice. For that, use `math.die\\_roll\\_integer`.  \n |\n| `math.die\\_roll\\_integer(num, low, high)` | returns the sum of 'num' random integer numbers, each with a value from low to high`. Note: the generated random numbers are integers like normal dice.  \n |\n| `math.exp(value)` | Calculates e to the value'th power  \n |\n| `math.floor(value)` | Round value down to nearest integral number  \n |\n| `math.hermite\\_blend(value)` | Useful for simple smooth curve interpolation using one of the Hermite Basis functions: `3t^2 - 2t^3`. Note that while any valid float is a valid input, this function works best in the range \\[0,1\\].  \n |\n| `math.lerp(start, end, 0\\_to\\_1)` | Lerp from start to end via 0\\_to\\_1  \n |\n| `math.lerprotate(start, end, 0\\_to\\_1)` | Lerp the shortest direction around a circle from start degrees to end degrees via 0\\_to\\_1  \n |\n| `math.ln(value)` | Natural logarithm of value  \n |\n| `math.max(A, B)` | Return highest value of A or B  \n |\n| `math.min(A, B)` | Return lowest value of A or B  \n |\n| `math.mod(value, denominator)` | Return the remainder of value \/ denominator  \n |\n| `math.pi` | Returns the float representation of the constant pi.  \n |\n| `math.pow(base, exponent)` | Elevates `base` to the `exponent`'th power  \n |\n| `math.random(low, high)` | Random value between low and high inclusive  \n |\n| `math.random\\_integer(low, high)` | Random integer value between low and high inclusive  \n |\n| `math.round(value)` | Round value to nearest integral number  \n |\n| `math.sin(value)` | Sine (in degrees) of value  \n |\n| `math.sqrt(value)` | Square root of value  \n |\n| `math.trunc(value)` | Round value towards zero  \n |\n\n  \n\n# \\-> Arrow Operator\n\nSome return values of query function, or values stored in temp\/entity\/context variables can be a reference to another entity. The `->` operator allows a script to access variables or run queries on that entity. For example, the example below will find all pigs within four metres of the current entity(including itself if it's a pig), and increment a variable `v.x` on itself if the block immediately above each pig is flammable(such as an oak button) :  \nNote that in the case where the left - hand - side of the `- > ` operator has an error(value is null, the entity was killed previously, or some other issue), the expression will not evaluate the right - hand - side and will return 0. This implementation style was a choice between performance and not requiring content creators to overly worry about checking for potentially bad values everywhere.  \n  \n  \n\n~~~json\n\"v.x = 0;\nfor_each(v.pig, query.get_nearby_entities(4, 'minecraft:pig'), {\n    v.x = v.x + v.pig->query.get_relative_block_state(0, 1, 0, 'flammable');\n});\"\n\n\n~~~\n\n  \n  \n\n## Public Variables\n\nIn general, variables of a mob are considered private to that mob and cannot be accessed by another. To expose read-only access of a variable to other mobs, you need to set the 'public' setting on that variable in the owning entity's resource definition. It is also recommended to default-initialize the variable.  \n  \n\n~~~json\n{\n  \"format_version\": \"1.10.0\",\n  \"minecraft:client_entity\": {\n    \"description\": {\n      ...\n      \"scripts\": {\n        \"variables\": {\n          \"variable.oink\": \"public\"\n        },\n        \"initialize\": [\n          \"variable.oink = 0;\"\n        ],\n        ...\n      },\n      ...\n    }\n  }\n}\n\n\n~~~\n\n  \n  \n  \n  \n  \n  \n\n# { } Brace Scope Delimiters\n\nOne can group a series of statements into a single group by wrapping them in { and } symbols. This is used primarily in loops and conditional statements:  \n  \n\n~~~json\n(v.moo > 0) ? {\n  v.x = math.sin(q.life_time * 45);\n  v.x = v.x * v.x + 17.3;\n  t.sin_x = math.sin(v.x);\n  v.x = t.sin_x * t.sin_x + v.x * v.x;\n  v.x = math.sqrt(v.x) * v.x * math.pi;\n}\n\n\n~~~\n\n  \n  \n\n# loop\n\nSometimes you want to execute an expression multiple times. Rather than copy-pasting it a bunch, you can use `loop(count, expression);`. We have placed some arbitrary restrictions on these for safety for now.The maximum loop counter is(as of this document being written) 1024. Also, note that while you can nest loops inside loops pretty much as deep as you want, be careful you don't make a loop so long it will hang your game.  \nA Fibonacci Calculator  \n\n~~~json\nv.x = 1;\nv.y = 1;\nloop(10, {\n  t.x = v.x + v.y;\n  v.x = v.y;\n  v.y = t.x;\n});\n\n\n~~~\n\n  \n  \n\n# for\\_each\n\n`query.get\\_nearby\\_entities` (see below) returns an array of entities. In order to iterate through them, you can use the following new built-in function `for\\_each`. It takes three parameters: `for\\_each(variable, array, expression);` The variable can be any variable, either a `temp.` or `variable.`, although I'd recommend using `temp.` to not pollute the entity's variable space. The expression is any molang expression you want to execute for each entry in the array)  \n  \n\n# break\n\nThis will exit out of a `loop` or `for\\_each` early. Eg:  \n  \n  \n\n~~~json\nv.x = 1;\nv.y = 1;\nloop(10, {t.x = v.x + v.y; v.x = v.y; v.y = t.x; (v.y > 20) ? break;});\n\n\n~~~\n\n  \n  \nThis will immediately exit the inner-most active loop, as per C - style language rules. If you have:  \n  \n  \n\n~~~json\nv.x = 0;\nloop(10, {loop(10, {v.x = v.x + 1; (v.x > 5) ? break;});});\n\n\n~~~\n\n  \n  \nThe `break` statement will terminate the inner loop when `v.x > 5`, and continue processing the outer loop's script. Note that as v.x is not reset between the outer loops, the second time into the inner loop this will add one more to `v.x` and then exit the inner loop again, resulting in a final value of `v.x` of `6 + 1 + 1 + 1 + ... + 1` = `15`.)  \n  \n  \n  \n\n# continue\n\n`continue` functions as per C-style language rules. Currently only supported in loops, this will skip to the next iteration of the current loop. See `break` above for more details on inner\/outer loops. The following example will result in v.x becoming 6.0, as the increment will be skipped once it reaches that value. Note that it is better to break out of the loop in this contrived example, as it would be more performant than continuing to perform all 10 iterations.  \n  \n\n~~~json\nv.x = 0;\nloop(10, {\n  (v.x > 5) ? continue;\n  v.x = v.x + 1;\n});\n\n\n~~~\n\n  \n  \n  \n  \n\n# ?? Null Coalescing Operator\n\n  \nSimilar to how the null-coalescing operator works in C#, one can now reference a variable that may or may not exist without seeing a content error. If it doesn't, you can now provide a default value to use. Previously, if a variable didn't exist you would get a content error. This was to make sure variables were always initialized correctly to avoid uninitialized variable bugs. Unfortunately this then required initialize scripts, or in some cases some complex work-arounds to make sure variables were initialized. Now, if you know a variable won't be initialized in the first run of a script, you can use the following:  \n  \n\n~~~json\nvariable.x = (variable.x ?? 1.2) + 0.3;\n\n~~~\n\n  \n  \n  \nThis will use the value of `variable.x` if it is valid, or else 1.2 if `variable.x`:  \n\\- has not yet been initialized  \n\\- is a reference to a deleted entity  \n\\- is an invalid reference  \n\\- holds an error  \n  \nNote that the `??` operator will work with `variable.`s, `temp.`s, and `context.`s that hold numbers or entity references, but not resources such as materials, textures, or geometries (as those must exist and be valid else it's a content error). If the first argument would result in something that can't be resolved, it will return the second argument.  \n  \n\\_Reminder: the standing rule of thumb in molang is that if something would error or be a bad value, it is converted to 0.0 (and generally throw a content error on screen in non-publish builds. Note that content errors may prevent uploading content to the marketplace, so please ensure expressions aren't going to do bad things such as dividing by zero).\\_  \n  \n  \n  \n\n# Simple vs Complex Expressions[\n\nA simple expression is a single statement, the value of which is returned to the system that evaluated the expression. eg:  \n  \n\n~~~json\nmath.sin(query.anim_time * 1.23)\n\n~~~\n\n  \n  \nA complex expression is one with multiple statements, each ending in a ';'. Each statement is evaluated in order. In the current implementation, the last statement requires the use of the return keyword and defines the resulting value of the expression. eg:  \n  \n\n~~~json\ntemp.moo = math.sin(query.anim_time * 1.23);\ntemp.baa = math.cos(query.life_time + 2.0);\nreturn temp.moo * temp.moo + temp.baa;\n\n~~~\n\n  \n  \nNote that in a simple expression, `;` is not allowed, whereas in a complex expression, each statement requires a `;` including the last. Also, note that if you don't `return` a value from a complex expression, the expression will evaluate to 0.0.  \n  \n  \n  \n  \n  \n\n# Domain Examples\n\nIn the definition file there is a section for pre-computing values. These are executed immediately before animation and render controllers are processed, and stored in the entity. The purpose is to pre-compute any expensive and complex values you may want to reuse in your scripts, long-living index variable updates, or generally any one-off computation per render tick.  \n  \n\n~~~json\n\"scripts\": {\n    \"pre_animation\": [\n      \"variable.my_constant = (Math.cos(query.modified_distance_moved * 38.17) * query.modified_move_speed;\",\n      \"variable.my_constant2 = Math.exp(1.5);\",\n    ]\n  },\n\n~~~\n\n  \n  \n\n# 动画于与动画控制器\n\nThese are numerical operations to control which animations are playing and how to animate bones. \"variable.variable\\_name\" and \"query.function\\_name\" refer to the entity currently being rendered. They have access to everything in the language except material, texture, and geometry types.  \n  \n\n# 渲染控制器\n\nThere are a few different kinds of expressions here, where context implies what is allowed. As with animations, the entity accessors refer to the current entity, however depending on the context one also has access to materials, textures, and geometries. There are two sections in a render controller:  \n\\-Array definitions (optional)  \n\\-Resource usage (required)  \nThe array definition section allows you to create arrays of resources by resource type if you so desire. These can then be referenced in the resource usage section.  \n\n## 数组表达式\n\nFor each of the three resource types (materials, textures, and geometry), you can define an array of resources. The name of the resource is the nice-name from the definition file. Using materials as an example:  \n  \n\n~~~json\n\"arrays\":\n{\n  \"materials\": {\n    \"array.my_array_1\": [\"material.a\", \"material.b\", \"material.c\"],\n    \"array.my_array_2\" : [\"material.d\", \"material.e\"],\n    \"array.my_array_3\" : [\"array.my_array_1\", \"material.my_array_2\"],\n    \"array.my_array_4\" : [\"array.my_array_2\", \"material.my_array_3\"],\n    \"array.my_array_5\" : [\"array.my_array_1\", \"material.my_array_1\", \"material.my_array_4\"],\n    \"array.my_array_6\" : [\"array.my_array_1\", \"material.f\"],\n    ...\n  },\n\n~~~\n\n  \n  \nNote that all elements of an array must be of the same type. eg: a texture array must only contain textures.  \n  \nAn array can reference any combination of zero or more arrays (including duplicates if desired) and\/or zero or more materails (again, including duplicates if you like), and you can have as many arrays as you like, each with as many elements as you like. If an array includes arrays in its members, they do not need to be the same length. When indexing into an array in the resource usage section, you use numerical expressions. If the resulting number is negative, it will use zero as the index. Any non - negative index will converted to an integer, and will wrap based on the size of the array:  \n  \n\n~~~json\nindex = max(0, expression_result) % array_size\n\n~~~\n\n  \n  \n  \n  \n\n## 资源表达式\n\nA resource expression must return a single resource of a specific type depending on the context.  \nFor example, in the \"geometry\" section, you must produce an expression that will result in a single geometry. Some examples:  \nCycle through an array of geometries at a rate of one per second  \n\n~~~json\n\"geometry\": \"array.my_geometries[query.anim_time]\"\n\n~~~\n\n  \nPick a geo based on an entity flag  \n\n~~~json\n\"geometry\": \"query.is_sheared ? geometry.sheared : geometry.woolly\"\n\n~~~\n\n  \nUse a specific geometry  \n\n~~~json\n\"geometry\": \"geometry.my_geo\"\n\n~~~\n\n  \nUse specific geo when sleeping, otherwise flip through an array based on a cosine curve, using index zero for almost half the time while the cosine curve is negative  \n\n~~~json\n\"geometry\": \"query.is_sleeping ? geometry.my_sleeping_geo : array.my_geos[math.cos(query.anim_time * 12.3 + 41.9) * 10 + 0.6]\"\n\n~~~\n\n  \n  \n\n## Resource Sections\n### 模型\n\nThe geometry section specifies which geometry to use when rendering. As you can specify as many render controllers as you like in the definition file, a single render controller is only concerned with how to render a single geometry. Note that a geometry can be arbitrarily complex using any number of bones and polygons.  \n  \n\n### 材料\n\nThe materials section specifies how to map what material to what bone of the geometry. A single material is mapped to a whole bone. Material expressions are evaluated in the order listed. The first part of each statement is the name of the model part to apply the material to, and the second part is the material to use. The model part name can use \\* for wild - card matching of characters. For example :  \n  \n\n~~~json\n  \"materials\": [\n      { \"*\": \"Material.default\" },\n      { \"TailA\": \"array.hair_colors[variable.hair_color]\" },\n      { \"Mane\": \"array.hair_colors[variable.hair_color]\" },\n      { \"*Saddle*\": \"variable.is_leather_saddle ? material.leather_saddle : material.iron_saddle\" }\n    ],\n\n~~~\n\n  \n  \n\\- This will start by applying Material.default to all model parts.  \n\\- Next, it will set the material on a model part named \"TailA\" to the result of the expression \"Array.hairColors\\[variable.hair\\_color\\]\". This will look up some previously created variable on the entity named hair\\_color and use that to index into a material array called \"array.hair\\_colors\" defined in this render controller. This will overwrite the Material.default material set in the line above.  \n\\- Third, it will look up the same material as the expression is identical, and apply it to the \"Mane\" model part.  \n\\- Lastly, if will find any model part starting with, ending with, or containing \"Saddle\" (case sensitive) and change its material to either material.leather\\_saddle or material.iron\\_saddle depending on the previously set entity variable variable.is\\_leather\\_saddle.  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n\n# 查询函数\n\nQuery Functions are boolean expressions that allow you to query for values owned by the engine under different circumstances. They can be used in MoLang expressionsUseful for controlling things like changing positions, textures, animations, etc if a mob is a baby. For example:  \n  \n\n~~~json\n\"position\": [ 0.0, \"query.is_baby ? -8.0 : 0.0\", \"query.is_baby ? 4.0 : 0.0\" ]\n\n~~~\n\n  \n  \n\n# List of Entity Queries\n| 名称 | 描述 |\n| --- | --- |\n| query.all\\_animations\\_finished | 仅在动画控制器中有效。如果当前动画控制器状态下的所有动画至少播放了一次，则返回1.0，否则返回0.0。 |\n| query.anim\\_time | 返回自当前动画开始以来的时间（以秒为单位），否则返回0.0（如果未在动画中调用） |\n| query.any\\_animation\\_finished | 仅在动画控制器中有效。如果当前动画控制器状态下的任何动画至少播放了一次，则返回1.0，否则返回0.0。 |\n| query.armor\\_color\\_slot | 将装甲插槽索引作为参数，并返回请求的插槽中装甲的颜色 |\n| query.armor\\_material\\_slot | 将装甲插槽索引作为参数，并在请求的装甲插槽中返回装甲材料类型 |\n| query.armor\\_texture\\_slot | 将装甲插槽索引作为参数，并返回所请求插槽的纹理类型 |\n| query.blocking | 如果实体正在阻止，则返回1.0，否则返回0.0 |\n| query.body\\_y\\_rotation | 如果在actor上调用，则返回身体偏航旋转，否则返回0.0 |\n| query.can\\_climb | 如果实体可以爬升，则返回1.0，否则返回0.0 |\n| query.can\\_fly | 如果实体可以飞行，则返回1.0，否则返回0.0 |\n| query.can\\_power\\_jump | 如果实体可以跳跃，则返回1.0，否则返回0.0 |\n| query.can\\_swim | 如果实体可以游泳则返回1.0，否则返回0.0 |\n| query.can\\_walk | 如果实体可以行走，则返回1.0，否则返回0.0 |\n| query.current\\_squish\\_value | 返回当前实体的压缩值，如果没有意义，则返回0.0 |\n| query.delta\\_time | 返回自上一帧以来的时间（以秒为单位） |\n| query.frame\\_alpha | 返回正在渲染此帧的AI刻度之间的比率（从0到1） |\n| query.ground\\_speed | 以米\/秒为单位返回实体的地面速度 |\n| query.has\\_armor\\_slot | 将装甲插槽索引作为参数，如果实体在请求的插槽中有装甲，则返回1.0，否则返回0.0 |\n| query.has\\_collision | 如果实体启用了碰撞，则返回1.0，否则返回0.0 |\n| query.has\\_gravity | 如果实体受重力影响，则返回1.0，否则返回0.0 |\n| query.has\\_owner | 如果实体具有所有者ID，则返回true，否则返回false |\n| query.has\\_rider | 如果实体有骑手，则返回1.0，否则返回0.0 |\n| query.has\\_target | 如果实体具有目标，则返回1.0，否则返回0.0 |\n| query.head\\_roll\\_angle | 返回狼实体头部的侧倾角 |\n| query.head\\_x\\_rotation | 将一个参数作为参数。如果有意义，则返回该实体的第n个头部x旋转，否则返回0.0 |\n| query.head\\_y\\_rotation | 将一个参数作为参数。如果有意义，则返回实体的第n个头y旋转，否则返回0.0 |\n| query.invulnerable\\_ticks | 如果有意义的话，返回实体剩余的无痕数，否则返回0.0 |\n| query.is\\_angry | 如果实体生气则返回1.0，否则返回0.0 |\n| query.is\\_avoiding\\_mobs | 如果实体逃离暴民则返回1.0，否则返回0.0 |\n| query.is\\_baby | 如果实体是婴儿，则返回1.0，否则返回0.0 |\n| query.is\\_breathing | 如果实体呼吸，则返回1.0，否则返回0.0 |\n| query.is\\_bribed | 如果实体已经贿赂，则返回1.0，否则返回0.0 |\n| query.is\\_carrying\\_block | 如果实体携带一个块，则返回1.0，否则返回0.0 |\n| query.is\\_casting | 如果实体正在投射，则返回1.0，否则返回0.0 |\n| query.is\\_charged | 如果实体已收费，则返回1.0，否则返回0.0 |\n| query.is\\_charging | 如果实体正在收费，则返回1.0，否则返回0.0 |\n| query.is\\_chested | 如果实体已连接箱子，则返回1.0，否则返回0.0 |\n| query.is\\_critical | 如果实体是关键的，则返回1.0，否则返回0.0 |\n| query.is\\_dancing | 如果实体在跳舞，则返回1.0，否则返回0.0 |\n| query.is\\_delayed\\_attacking | 如果实体使用延迟攻击进行攻击，则返回1.0，否则返回0.0 |\n| query.is\\_eating | 如果实体正在吃饭，则返回1.0，否则返回0.0 |\n| query.is\\_elder | 如果实体是旧版本，则返回1.0，否则返回0.0 |\n| query.is\\_enchanted | 如果附魔该实体，则返回1.0，否则返回0.0 |\n| query.is\\_fire\\_immune | 如果该实体不受射击，则返回1.0，否则返回0.0 |\n| query.is\\_first\\_person | 如果实体以第一人称模式渲染，则返回1.0，否则返回0.0 |\n| query.is\\_gliding | 如果实体滑动，则返回1.0，否则返回0.0 |\n| query.is\\_grazing | 如果实体在放牧，则返回1.0；否则，则返回0.0 |\n| query.is\\_idling | 如果实体闲置，则返回1.0，否则返回0.0 |\n| query.is\\_ignited | 如果实体被点燃，则返回1.0，否则返回0.0 |\n| query.is\\_illager\\_captain | 如果实体是前卫队长，则返回1.0，否则返回0.0 |\n| query.is\\_in\\_love | 如果实体恋爱，则返回1.0，否则返回0.0 |\n| query.is\\_in\\_water | 如果实体在水中，则返回1.0，否则返回0.0 |\n| query.is\\_in\\_water\\_or\\_rain | 如果实体在水或雨中，则返回1.0，否则返回0.0 |\n| query.is\\_interested | 如果该实体感兴趣，则返回1.0，否则返回0.0 |\n| query.is\\_invisible | 如果实体不可见，则返回1.0，否则返回0.0 |\n| query.is\\_jumping | 如果实体在跳跃，则返回1.0，否则返回0.0 |\n| query.is\\_laying\\_down | 如果实体放下则返回1.0，否则返回0.0 |\n| query.is\\_laying\\_egg | 如果实体下蛋，则返回1.0，否则返回0.0 |\n| query.is\\_leashed | 如果实体被释放，则返回1.0，否则返回0.0 |\n| query.is\\_lingering | 如果实体徘徊，则返回1.0，否则返回0.0 |\n| query.is\\_moving | 如果实体正在移动，则返回1.0，否则返回0.0 |\n| query.is\\_on\\_ground | 如果实体在地面上，则返回1.0，否则返回0.0 |\n| query.is\\_onfire | 如果实体着火则返回1.0，否则返回0.0 |\n| query.is\\_orphaned | 如果该实体是孤立的，则返回1.0，否则返回0.0 |\n| query.is\\_powered | 如果实体已通电，则返回1.0，否则返回0.0 |\n| query.is\\_pregnant | 如果实体已怀孕，则返回1.0，否则返回0.0 |\n| query.is\\_resting | 如果实体处于静止状态，则返回1.0，否则返回0.0 |\n| query.is\\_riding | 如果实体在骑行，则返回1.0，否则返回0.0 |\n| query.is\\_roaring | 如果实体当前正在咆哮，则返回1.0，否则返回0.0 |\n| query.is\\_rolling | 如果实体正在滚动，则返回1.0，否则返回0.0 |\n| query.is\\_saddled | 如果实体有鞍，则返回1.0，否则返回0.0 |\n| query.is\\_scared | 如果该实体感到害怕，则返回1.0，否则返回0.0 |\n| query.is\\_shaking | 如果实体正在投射，则返回1.0，否则返回0.0 |\n| query.is\\_shaking\\_wetness | 如果实体正在甩水，则返回true |\n| query.is\\_sheared | 如果实体能够被剪切并被剪切，则返回1.0，否则返回0.0 |\n| query.is\\_shield\\_powered | 如果该实体有意义，则返回1.0f（如果该实体具有活动的有源屏蔽），否则返回0.0 |\n| query.is\\_silent | 如果实体为静默则返回1.0，否则返回0.0 |\n| query.is\\_sitting | 如果实体坐着，则返回1.0，否则返回0.0 |\n| query.is\\_sleeping | 如果实体正在睡眠，则返回1.0，否则返回0.0 |\n| query.is\\_sneaking | 如果实体正在潜行，则返回1.0，否则返回0.0 |\n| query.is\\_sneezing | 如果实体在打喷嚏，则返回1.0，否则返回0.0 |\n| query.is\\_sprinting | 如果实体正在冲刺，则返回1.0，否则返回0.0 |\n| query.is\\_stackable | 如果实体是可堆叠的，则返回1.0，否则返回0.0 |\n| query.is\\_standing | 如果实体站立，则返回1.0，否则返回0.0 |\n| query.is\\_stunned | 如果该实体当前处于眩晕状态，则返回1.0，否则返回0.0 |\n| query.is\\_swimming | 如果实体正在游泳，则返回1.0，否则返回0.0 |\n| query.is\\_tamed | 如果已驯服实体，则返回1.0，否则返回0.0 |\n| query.is\\_transforming | 如果实体正在变换，则返回1.0，否则返回0.0 |\n| query.is\\_using\\_item | 如果实体正在使用项目，则返回1.0，否则返回0.0 |\n| query.is\\_wall\\_climbing | 如果实体正在爬墙，则返回1.0，否则返回0.0 |\n| query.item\\_in\\_use\\_duration | 以秒为单位返回商品的使用时间（最长持续时间），否则返回0.0。 |\n| query.item\\_max\\_use\\_duration | 返回该项目可以使用的最长时间，否则返回0.0。 |\n| query.item\\_remaining\\_use\\_duration | 返回项目剩余可使用的时间（以秒为单位），否则返回0.0。 |\n| query.key\\_frame\\_lerp\\_time | 返回上一个和下一个关键帧之间的比率 |\n| query.lie\\_amount | 返回实体的躺下数量 |\n| query.life\\_span | 返回实体的有限寿命，如果实体永久存在，则返回0.0 |\n| query.life\\_time | 返回自当前动画开始以来的时间（以秒为单位），否则返回0.0（如果未在动画中调用） |\n| query.log | 调试日志值 |\n| query.mark\\_variant | 返回实体的mark变体 |\n| query.max\\_trade\\_tier | 如果有意义，则返回实体的最大交易层，否则返回0.0 |\n| query.model\\_scale | 返回当前实体的比例 |\n| query.modified\\_distance\\_moved | 返回实体在水平方向上移动的总距离（以米为单位）（自从上次加载以来，不一定是最初创建实体以来），该状态由状态标记（例如is\\_baby或on\\_fire）修改 |\n| query.modified\\_move\\_speed | 返回由状态标志（例如is\\_baby或on\\_fire）修改的实体的当前行走速度 |\n| query.overlay\\_alpha | 请勿使用-此功能已弃用，将被删除 |\n| query.previous\\_squish\\_value | 返回当前实体的前一个压缩值，如果没有意义，则返回0.0 |\n| query.roll\\_counter | 返回实体的滚动计数器 |\n| query.shake\\_angle | 返回狼实体的摇动角度 |\n| query.sit\\_amount | 返回实体的当前坐席量 |\n| query.skin\\_id | 返回实体的皮肤ID |\n| query.sneeze\\_counter | 返回实体的打喷嚏计数器 |\n| query.spellcolor.b | 如果有意义，则返回当前实体拼写颜色的蓝色通道，否则返回0.0 |\n| query.spellcolor.g | 如果可行，则返回当前实体拼写颜色的绿色通道，否则返回0.0 |\n| query.spellcolor.r | 如果有意义，则返回当前实体拼写颜色的红色通道，否则返回0.0 |\n| query.standing\\_scale | 返回实体的站立程度 |\n| query.swell\\_amount | 返回实体的肿胀程度 |\n| query.swelling\\_dir | 如果有意义，则返回实体的膨胀方向，否则返回0.0 |\n| query.tai​​l\\_angle | 返回狼实体尾巴的角度，否则返回0.0 |\n| query.target\\_x\\_rotation | 如果有一个，则返回瞄准当前目标的x旋转，否则返回0.0 |\n| query.target\\_y\\_rotation | 如果有一个，则返回瞄准实体当前目标所需的y旋转，否则返回0.0 |\n| query.time\\_stamp | 返回级别的当前时间戳 |\n| query.trade\\_experience | 返回有意义的实体当前交易经验，否则返回0.0 |\n| query.trade\\_tier | 如果有意义，则返回实体的贸易层，否则返回0.0 |\n| query.unhappy\\_counter | 返回实体的不满意程度 |\n| query.variant | 返回实体的变种值 |\n| query.wing\\_flap\\_position | 返回实体的襟翼位置，如果没有意义，则返回0.0 |\n| query.wing\\_flap\\_speed | 返回实体的机翼襟翼速度；如果没有意义，则返回0.0 |\n| query.yaw\\_speed | 返回实体的偏航速度 |\n\n  \n  \n  \n\n# 实验操作人员\n\nSome operators are under `Experimental MoLang Features` atm (see list below). We are hoping people will experiment with them and give us feedback, so we can move them into general usage.  \n  \n\\- ContextVariable  \n\\- Loop  \n\\- ForEach  \n\\- Break  \n\\- Continue  \n\\- Pointer"},"options":{"base":"..\/..\/..\/..\/","environment":"reader"},"style":""}</script><script type="text/javascript">kancloud.bootstrap('app');</script></body></html>